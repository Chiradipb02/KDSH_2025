LaDe: The First Comprehensive Last-mile Express Dataset from
Industry
Lixia Wu∗
Cainiao Network
Hangzhou, ChinaHaomin Wen∗
School of Computer and Information
Technology, Beijing Jiaotong
University & Cainiao Network
Beijing, ChinaHaoyuan Hu
Cainiao Network
Hangzhou, China
Xiaowei Mao
School of Computer and Information
Technology, Beijing Jiaotong
University & Cainiao Network
Beijing, ChinaYutong Xia
National University of Singapore
SingaporeErgang Shan
Jianbin Zheng
Junhong Lou
Cainiao Network
Hangzhou, China
Yuxuan Liang†
Liuqing Yang
Hong Kong University of Science and
Technology (Guangzhou)
Guangzhou, ChinaRoger Zimmermann
National University of Singapore
SingaporeYoufang Lin
Huaiyu Wan
School of Computer and Information
Technology, Beijing Jiaotong
University
Beijing, China
ABSTRACT
Real-world last-mile express datasets are crucial for research in
logistics, supply chain management, and spatio-temporal data min-
ing. Despite a plethora of algorithms developed to date, no widely
accepted, publicly available last-mile express dataset exists to sup-
port research in this field. In this paper, we introduce LaDe , the
first publicly available last-mile express dataset with millions of
packages from the industry. LaDe has three unique characteristics:
(1)Large-scale. It involves 10,677k packages of 21k couriers over 6
months of real-world operation. (2) Comprehensive information. It
offers original package information, task-event information, as well
as couriers’ detailed trajecotries and road networks. (3) Diversity.
The dataset includes data from various scenarios, including package
pick-up and delivery, and from multiple cities, each with its unique
spatio-temporal patterns due to their distinct characteristics such
as populations. We verify LaDe on three tasks by running several
classical baseline models per task. We believe that the large-scale,
comprehensive, diverse feature of LaDe can offer unparalleled op-
portunities to researchers in the supply chain community, data
∗Equal contribution
†Corresponding author (email: yuxliang@outlook.com)
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for profit or commercial advantage and that copies bear this notice and the full citation
on the first page. Copyrights for components of this work owned by others than the
author(s) must be honored. Abstracting with credit is permitted. To copy otherwise, or
republish, to post on servers or to redistribute to lists, requires prior specific permission
and/or a fee. Request permissions from permissions@acm.org.
KDD ’24, August 25–29, 2024, Barcelona, Spain
©2024 Copyright held by the owner/author(s). Publication rights licensed to ACM.
ACM ISBN 979-8-4007-0490-1/24/08
https://doi.org/10.1145/3637528.3671548mining community, and beyond. The dataset and code is publicly
available at https://huggingface.co/datasets/Cainiao-AI/LaDe.
CCS CONCEPTS
•Information systems →Data mining.
KEYWORDS
Last-mile Delivery; Dataset; Benchmark; Courier Trajectory
ACM Reference Format:
Lixia Wu, Haomin Wen, Haoyuan Hu, Xiaowei Mao, Yutong Xia, Ergang
Shan, Jianbin Zheng, Junhong Lou, Yuxuan Liang, Liuqing Yang, Roger
Zimmermann, Youfang Lin, and Huaiyu Wan. 2024. LaDe: The First Com-
prehensive Last-mile Express Dataset from Industry. In Proceedings of the
30th ACM SIGKDD Conference on Knowledge Discovery and Data Mining
(KDD ’24), August 25–29, 2024, Barcelona, Spain. ACM, New York, NY, USA,
12 pages. https://doi.org/10.1145/3637528.3671548
1 INTRODUCTION
Driven by increasing urbanization and e-commerce development,
last-mile delivery has emerged as a critical research area with grow-
ing interest from scholars and practitioners. Last-Mile Delivery,
as illustrated in Figure 2, is the package transport process that
connects the depot and the customers, including both the package
pick-up [ 29,36] and delivery [ 5,37] process. In addition to being
a key to customer satisfaction, last-mile delivery is both the most
expensive and time-consuming part of the shipping process [ 30,35].
Consequently, researchers from different fields, from logistics op-
eration management to spatio-temporal data mining, have been
consistently shedding light on problems in last-mile delivery in
recent years [ 50]. These problems include route planning [ 1,23,60],
Estimated Time of Arrival (ETA) prediction [ 7,10,14,31,52], and
5991
KDD ’24, August 25–29, 2024, Barcelona, Spain Lixia Wu, et al.
Figure 1: Overview of our Work.
route prediction [ 47,48,62], etc. A quick search for “last-mile de-
livery” on Google Scholar returns over 19,400 papers since 2018.
Recent endeavors [ 10,14,52] focus on leveraging machine/deep
learning techniques for problems in last-mile delivery research. A
critical prerequisite for those researches is the availability of high-
quality, large-scale datasets. Since such datasets have the potential
to significantly accelerate advancements in specific fields, such
as ImageNet [ 11] for computer vision and GLUE [ 46] for natural
language processing. Nonetheless, in the domain of last-mile back-
ground research, a multitude of algorithms have been devised, but
there is still an absence of a widely recognized, publicly accessible
dataset. Consequently, research in this field has become concen-
trated within a limited number of industrial research laboratories,
thereby restricting transparency and hindering research progress.
Moreover, the lack of public datasets also poses a hurdle for industry
practitioners to develop advanced algorithms.
To meet the rising calling for a public dataset, we propose LaDe ,
the first comprehensive Last-mile Delivery dataset collected by
Cainiao. Table 2 shows the overview of our work. LaDe contains
both package pick-up and delivery data as depicted in Figure 2.
It has several merits: (1) Large-scale, covering 10,677k packages
of 21k couriers across 6 months. To the best of our knowledge,
this is the largest publicly available dataset. (2) Comprehensive,
providing detailed information on package, location, task-event,
and courier trajectory. (3) Diverse, collecting data from both pick-
up and delivery processes across various cities. By virtue of these
advantages, LaDe can be employed to evaluate a wide spectrum of
last-mile-related tasks. In this paper, we investigate its properties
by three tasks, including route prediction [ 47,48,62], estimated
time of arrival prediction [ 10,14,52], and spatio-temporal graph
forecasting [ 2,24,51,57]. Beyond these tasks, it is easy to integrate
some of the aforementioned features to support additional tasks. We
believe that such a large-scale dataset like LaDe is a critical resource
for developing advanced algorithms under the context of last-mile
delivery, as well as for providing critical training and benchmarking
data for learning-based algorithms. Overall, we identify three key
contributions of this work:•A New Dataset. We collect, process, and release LaDe . The
dataset boasts large-scale, comprehensive, and diverse char-
acteristics. To the best of our knowledge, it is the first exhaus-
tive, industry-scale last-mile express dataset, publicly acces-
sible at https://huggingface.co/datasets/Cainiao-AI/LaDe.
•Comprehensive Data Analysis. Extensive data analysis
is conducted to depict and highlight the properties of the
dataset. Based on the analysis, we introduce potential tasks
supported by LaDe , from logistics operation management to
spatio-temporal data mining, and beyond.
•Benchmark on Real-World Tasks. We benchmark this
dataset by performing three representative tasks, including
service route prediction, estimated time of arrival prediction,
and spatio-temporal graph forecasting. The source codes for
these tasks are provided to promote research in this field.
2 RELATED WORK
Dataset Perspective. To the best of our knowledge, there is no
publicly available last-mile dataset containing both package pick-up
and delivery data. The most relative effort comes from Amazon
[33] (named AmazonData in this paper). It is a courier-operated
sequence dataset proposed for a last-mile routing research chal-
lenge hosted by Amazon. Specifically, this dataset contains 9,184
historical routes performed by Amazon couriers in 2018 in five
metropolitan areas in the United States. Despite the contribution
of AmazonData to the research field, it still has three limitations: 1)
Without pick-up data, it only contains data generated in the pack-
age delivery process; 2) Small scale, in terms of spatio-temporal
range and the number of trajectories; 3) Lack of courier-related and
task-event-related information, which prevents it from benefiting
a wider group of researchers with different interests. In light of
the above issues, we introduce an industry-scale, comprehensive
dataset (i.e., LaDe ) for researchers to develop and evaluate new ideas
on real-world instances in last-mile delivery. The scale of LaDe is 5
times of AamazonData in terms of package number and 50 times
in terms of trajectory number. We provide a detailed comparison
of AamazonData and LaDe in Table 1.
Table 1: Comparison between LaDe and the related dataset.
(Abbr.: DD for Delivery Data, PD for Pick-up Data, CI for
Courier Information, TI for Task-event Information )
Dataset Time
span #Trajectories #Couriers #Packages DD PD CI TI
AmazonData 4
months 9k - 2,182k ✓× ××
LaDe 6
months 619k 21k 10,677k ✓ ✓ ✓ ✓
Application Perspective. Overall, last-mile logistics is an emerg-
ing interdisciplinary research area connecting transportation and
AI technology, in which deep learning methods have long been the
most popular model [ 35]. Broadly speaking, there are four branches
in this field: 1) Emerging trends and technologies, which focus on
technological solutions and innovations in last-mile logistics, such
as courier’s route and arrival time prediction [ 14,47], self-service
technologies [ 45], drone-assisted delivery [ 44]. 2) Last-mile-related
data mining [ 38,40], which aims to excavate the underlying pat-
terns of knowledge from data generated by real-world operations
for better logistics management. 3) Operational optimization, which
5992LaDe: The First Comprehensive Last-mile Express Dataset from Industry KDD ’24, August 25–29, 2024, Barcelona, Spain
Logistics 
Network
courier
depot
package
pick
-
up 
package
(to be delivered)
courier
depot
deliver
package
package
(to be picked)
Last
-
mile: Pickup
Last
-
mile: Delivery
package ID
time window
package
location
AOI ID&type
courier ID
accept time
pickup time
courier’s location 
when 
accept/pick up
package ID
package
location
AOI ID&type
courier ID
accept time
delivery
 
time
courier’s location 
when 
accept/
delivery
La
De
-
P
La
De
-
D
AOI
courier
unpicked
-
up 
package
Appointment Time 15:30
-
17:30
Notify recipient
Change order
Cancel order
Pay
ETA
Expected to come around 17:00
The tracking number will be 
displayed after the parcel is picked.
Code
3004
Save to photos album
Route Prediction
predict
ETA Prediction
STG Forecasting
AOI / region
32
29
21
10
5
distance
to courier
time 
window
aoi_type
…
1km
9:30
-
10:30
school
…
distance
…
distance
…
query time
9:00
query time
9:00
Future 
Pickup Route
customer
Figure 2: Overview of LaDe from last-mile express (better viewed in color), which includes two sub-datasets: LaDe-P from
package pick-up process (i.e., couriers pick up packages from senders and return the depot) and LaDe-D from delivery process
(i.e., couriers deliver packages from the depot to receivers).
focuses on optimizing last-mile operations and making better oper-
ational decisions, such as vehicle routing problem [ 6,60], delivery
scheduling [ 16], and facility location selection [ 17,21]. 4) Supply
chain structures, which focused on designing structures for last
mile logistics, such as the network design [ 25]. We refer readers
to the paper [ 35] for a more detailed, systematic classification of
last-mile-related research. The proposed LaDe contains instances
from real operations that researchers can use to advance the models
in their fields and to expand its applications to industry settings.
3 PROPOSED DATASET: LADE
In this section, we formally introduce the LaDe Dataset. First, we
describe the data collection process, followed by a detailed discus-
sion of LaDe ’s data fields and dataset statistics. At last, we conduct
a comprehensive analysis to highlight its unique properties. LaDe
can be freely downloaded with a custom license CC BY-NC 4.01.
3.1 Data Collection
This dataset is collected by Cainiao, one of China’s largest logistics
platforms, which handles a tremendous volume of packages each
day. A typical process for shipping a package involves the following
steps: 1) The customer (sender) places a package pick-up order
through the online platform. 2) The platform dispatches the order
to an appropriate courier. 3) The courier picks up the package
within the specified time window and returns to the depot (this
constitutes the package pick-up process). 4) The package departs
from the depot and traverses the logistics network until it reaches
the target depot. 5) At the target depot, the delivery courier retrieves
the package and delivers it to the recipient customer (known as the
package delivery process).
Among these steps, step 3 and 5 are referred to as the last-mile de-
livery, where couriers pick up/deliver packages from/to customers.
Note that there is a notable difference between the pick-up and
delivery scenarios. In the package delivery process, packages as-
signed to a particular courier are determined prior to the courier’s
departure from the depot. Conversely, in the pick-up process, pack-
ages assigned to a courier are not settled at the beginning. Rather,
1https://creativecommons.org/licenses/by-nc/4.0/they are revealed over time, as customers can request pick-ups at
any time. The dynamic nature of package pick-up presents substan-
tial challenges in the research field. To advocate more efforts for
the challenge and make the data more diverse, LaDe contains two
sub-datasets in both pick-up and delivery scenarios, named LaDe-P
andLaDe-D, respectively.
Specifically, we collect millions of package pick-up/delivery data
generated in 6 months from different cities in China. To increase
the diversity, we carefully selected 5 cities - Shanghai, Hangzhou,
Chongqing, Jilin, and Yantai - which possess distinct character-
istics such as populations, more details can be found in Table 11
of Appendix A.2. In Figure 3, we give a simple illustration of the
region-level and AOI-level segmentation of a city. A city contains
different regions, with each region composed of several AOIs (Area
of Interest) for logistics management. A courier is responsible for
picking up / delivering packages in several assigned AOIs. To collect
the data for each city, we first randomly select 30 regions in the
city. Subsequently, we randomly sample couriers in each region
and pick out all the selected couriers’ picked-up/delivery packages
during the 6 months. Note that when a courier is chosen, all his
packages get selected. At the same time, all those packages fall in
the randomly selected regions. Because a courier is responsible for
several AOIs, they all belong to one of the selected regions.
Figure 3: Region-level and AOI-level data.
Privacy. For the privacy issue, inspired by operations in geo-
related data release work [ 19,33], no customer-related information
5993KDD ’24, August 25–29, 2024, Barcelona, Spain Lixia Wu, et al.
(
d
)
(e)
(f)
data 
profile
Finish Time Distribution
Top
-
5 AOI Type Distribution
Spatial Distribution
Feature of Couriers
Arrival Time Distribution of 10 Couriers
(a)
(b)
(c)
Distance Distribution
(
minute)
(
m)
(m/mi
n
)
Figure 4: Spatial and temporal distribution of data in Shanghai of LaDe-P.
(such as the address, name, and ID) is contained in the dataset.
Couriers’ data are only collected at their working time, by Per-
sonal Digitial Assistant (PDA) devices provided by the platform.
Specifically, the following operations are adopted to further protect
privacy: 1) a package is not linked to a customer in the dataset
to protect the privacy of customers. 2) Instead of using the lati-
tude and longitude, we utilize the coordinate of a package in a
two-dimensional space (𝑥,𝑦)to represent a package’s location. The
relative distance of two locations in real geographical space is pre-
served in the two-dimensional space. In this way, (𝑥,𝑦)cannot be
projected back to a real-world location, thus largely migrating the
privacy issue. 3) For couriers, no sensitive information (e.g., gender
and age) is included either.
3.2 Dataset Details & Statistics
In this subsection, we present the dataset details and its basic statis-
tics. A brief information on the data field is illustrated in Figure 2.
The detailed data field description of LaDe-P is shown in Table 2.
Table 3 shows the description of the data fields of the courier’s
detailed trajectory. The data field of LaDe-D , and route network
can be found in Table 9, and Table 10, respectively, in Appendix A.1
due to the page limitation.
To facilitate the utilization and analysis of the dataset, we trans-
form and arrange each sub-dataset into tabular data presented in
CSV format. Each record in this format contains relevant infor-
mation pertaining to a picked-up or delivered package, primarily
addressing the “who, where, when” aspects. Specifically, the record
specifies which courier picked up or delivered the package, the
location of the package, and the corresponding time. The recorded
information can be broadly categorized into four types: 1) pack-
age information, which records the package ID and time windows
requirements (if applicable); 2) stop information, recording the
package’s location information such as coordinates, AOI ID, and
AOI type; 3) courier information, recording the courier’s ID, and
each courier is equipped with a personal digital assistant (PDA),Table 2: Description of data fields of LaDe-P.
Data
field Description Unit/format
Package
information
package_id
Unique identifier of each package Id
time_window_start start of the required time window Time
time_window_end end of the required time window Time
Stop
information
x/y
Coordinates of each stop Float
city City String
region_id Id of the Region String
aoi_id Id of the AOI (Area of Interest) Id
aoi_type Type of the AOI Categorical
Courier
Information
courier_id
Id of the courier Id
T
ask-event Information
accept_time
The time when the courier accepts the task Time
accept_gps_time The closest GPS point’s time to accept time Time
accept_gps_x/_y Coordinates when the courier accept the task Float
pickup_time The time when the courier picks up the task Time
pickup_gps_time The closest GPS point’s time to pickup time Time
pickup_gps_x/_y Coordinates where the courier picks up the task Float
Conte
xt information
ds
the date of the package pickup Date
which will consistently report the status of a courier (e.g., GPS)
to the platform; 4) task-event information, recording the features
of package accept, pick-up or delivery event, including when the
event happens and the courier’s location.
Overall, the package and task-event information can be recorded
once the courier accepts the order, or finishes the order. Information
about the stop comes from the geo-decoding system used in Cainiao,
which can parse the input location address into its corresponding
coordinates with a given accuracy. Table 4 shows the statistics of
theLaDe-P . Due to the page limitation, please refer to Table 12 in
Appendix A.2 for the statistics of the LaDe-D.
5994LaDe: The First Comprehensive Last-mile Express Dataset from Industry KDD ’24, August 25–29, 2024, Barcelona, Spain
HangzhouJilinShanghaiHangzhouJilinShanghaiHangzhouJilinShanghai
Figure 5: Diversity of cities. We select three cities, Hangzhou, Shanghai, and Jilin, as an example to reveal their different
spatio-temporal distributions. (a) The time distribution of packages in a day; (b) The ETA distribution of packages; (c) The
distribution of the average distance between two consecutive packages in a courier’s route. A significant difference is observed.
Table 3: Description of data fields of Detailed Trajectory.
Data
field Description Unit/format
ds
The date of the trajectory Date
courier_id Id of the courier Id
gps_time The time when the trajectory point is recorded Time
x/y Coordinates of the courier Float
Moreover, to intuitively illustrate the spatio-temporal character-
istics of the dataset, we draw the spatial and temporal distribution
of one city (Shanghai) in Figure 4 for one sub-dataset LaDe-P . From
the Figure, we have the following observations. Obs1: Figure 4(a)
shows that couriers’ work time starts from 8:00 and ends at 19:00.
The volume of package pick-up has a peak at 9:00 am and 5:00
pm, respectively. Obs2: Figure 4(b) and Figure 4(c) shows the spa-
tial distribution of packages, where the distance between consec-
utive packages in a courier’s route is usually within 1km. Obs3:
Figure 4(d) shows the distribution of the top 5 AOI types in the
data, illustrating that over 70% packages come from type 1. Obs4:
Figure 4(e) shows the actual arrival time of 10 randomly selected
couriers, from which we observed differences in the work efficiency
of different couriers. It also shows that a majority of packages are
picked up within 3 hours. Obs5: Figure 4(f) depicts the profile of
two couriers in the dataset, where different characteristics such as
work days, and average orders per day are observed.
Table 4: Statistics of LaDe-P . Abbr: AvgETA is the average
arrival time per package. AvgPackage is the average package
number of a courier per day. The unit of AvgETA is minute.
#Traj is number of trajectories.
City
Time span Spatial span #Traj #Couriers #Packages #Location AvgETA AvgPackage
Shanghai
6 months 77×73 km296k 4,502 1,450k 1,785k 151 15.0
Hangzhou 6 months 211 ×142 km2119k 5,347 2,130k 2,427k 146 17.8
Chongqing 6 months 403 ×267 km283k 2,982 1,172k 1,475k 140 14.0
Yantai 6 months 155 ×114 km271k 2,593 1,146k 1,641k 137 16.0
Jilin 6 months 105 ×165 km218k 665 261k 399k 123 13.8
3.3 Dataset Properties & Challenges
In this subsection, we present our primary data analysis to highlight
its properties and the challenges they entail.Large scale. LaDe contains 10,667k packages and 619k trajec-
tories that consist of 16,755k locations generated by 21k couriers,
covering 5 cities over a total span of 6 months. The maximal package
number of a courier one trip in the pick-up scenario and delivery
scenario reaches 95 and 121, respectively. Such large scale brings a
significant challenge to algorithms in last-mile delivery. To the best of
our knowledge, this is the largest clean delivery dataset available to
the research community, in terms of spatio-temporal coverage, the
total number of packages, and the number of couriers’ trajectories.
Comprehensity. LaDe aims to offer a wealth of information
pertaining to last-mile delivery, encompassing various types of
data such as detailed package information, task-event logs, courier
trajectory details, and road networks. The objective is to facilitate
a broader range of research endeavors. How to effectively leverage
these comprehensive features to improve existing or inspire new tasks
remains an open problem for researchers from different communities.
Diversity. We increase the data’s diversity from two perspec-
tives: (1) scenario diversity – by collecting two sub-datasets rep-
resenting both pick-up and delivery scenarios; (2) city diversity
– we collect data from different cities to increase the diversity of
the dataset. The cities in the dataset have different characteristics,
leading to various spatio-temporal patterns in the dataset, where
we give an illustration in Figure 5. For more information about
the selected cities, please refer to Table 11 in Appendix A.1. Such
diversity brings the challenge of designing advanced models that can
generalize well under cities with different characteristics.
Dynamism (only for LaDe-P ). Compared to LaDe-D , the tasks
of a courier in LaDe-P are not settled at the beginning of the day.
Rather, they are revealed along with the pick-up process as cus-
tomers can place an order at any time. Such dynamism in courier
tasks poses significant challenges in various research areas, with one
notable example being dynamic route optimization [23, 56].
Eqquiped with the above unique properties, LaDe offers the most
extensive compilation of data for various research purposes back-
ground by last-mile delivery. It encompasses a variety of informa-
tion across multiple domains, such as package details, event-based
information, and courier information. Our aspiration is to make this
abundant resource accessible to a broad spectrum of researchers,
enabling them to undertake diverse and innovative studies.
5995KDD ’24, August 25–29, 2024, Barcelona, Spain Lixia Wu, et al.
4 APPLICATIONS & BENCHMARK
To prove LaDe ’s ability to support multiple tasks, we benchmark
the dataset in three learning-based tasks, including route predic-
tion, estimated time of arrival prediction, and spatio-temporal
graph forecasting. Those tasks all come from the real-world ap-
plication and we illustrate them in Figure 6. The code is released
at https://github.com/wenhaomin/LaDe. Note that the dataset can
support far more than the three tasks, which we envision more
possible applications from different research fields at the end of
the section. All methods were implemented with PyTorch 1.10.1
and Python 3.6.13, and deep learning methods were trained with
an A40 GPU. The platform utilized is Ubuntu 23.04.
4.1 Route Prediction
A crucial task in last-mile delivery services (such as logistics) is
service route prediction [ 14,47], which aims to estimate the future
service route of a worker given his unfinished tasks at request time.
Problem Definition. Formally, at a certain time 𝑡, a worker
(i.e., courier) 𝑤can have𝑛unfinished tasks, denoted by X𝑤
𝑡=
{x1,x2,...,x𝑛}, where x𝑖corresponds to the feature vector of a
task𝑖. Given a worker 𝑤’s unfinished tasks at time 𝑡and route
constraintsC(such as the worker not being able to access the
finished tasks), route prediction aims to learn a function FCto
predict the worker’s future service route ˆ𝝅which can satisfy the
given route constraints C, formulated as:FC(X𝑤
𝑡)=[𝜋1,𝜋2···𝜋𝑛],
where𝜋𝑖means that the 𝑖-th node in the route is task 𝜋𝑖. And
𝜋𝑖∈{1,···𝑛}and𝜋𝑖≠𝜋𝑗if𝑖≠𝑗.
Dataset. We choose LaDe-P as the dataset to conduct the exper-
iment. The training, validation, and test set is split chronologically
using a ratio of 6:2:2. We select three cities with different data scales
from the five cities for experiments, including Shanghai, Chongqing,
and Yantai.
Baselines & Hyperparameters. We run six baselines on LaDe :
•TimeGreedy [ 62]: A greedy algorithm, which ranks all the
candidate tasks by sorting the end of the required time win-
dow.
•DistanceGreedy [ 62]: A greedy algorithm, which chooses
to take the nearest package at each step, regardless of time
requirements and other factors.
•OR-Tools [ 3] adopts a heuristic strategy to search the route
with the minimum travel distance as worker’s future route.
•Osqure [ 62]: A machine learning method, which predicts the
next package at each time step through a machine learning
algorithm, by considering it as a multi-class classification
problem.
•DeepRoute [ 48]: A deep learning method, equipped with a
Transformer encoder and Pointer Net decoder.
•FDNET [ 14]: A deep learning method equipped with a Pointer
Net for predicting both the route and time of unfinished
tasks.
•Graph2Route [ 47]: A deep learning method, equipped with
a dynamic graph encoder and personalized route decoder.
•DRL4Route [ 32]: A deep reinforcement learning method that
introduces the non-differentiable metric as the reward for
training the route prediction agent.Hyperparameters search is performed on the validation set by eval-
uating hidden size in {16, 32, 64, 128}. We set the learning rate to
0.0001 and batch size to 64 for all deep-learning models.
Metrics. Following the setting in [ 47], the following metrics are
utilized to evaluate the performance of route prediction methods:
•KRC: Kendall Rank Correlation [ 22] is a statistical metric to
measure the ordinal association between two sequences. Let
ˆ𝑌and𝑌be two sequences and 𝑅ˆ𝑌(𝑖)∈[ 1,|𝑌|]be the posi-
tion of item𝑖in𝑌, a node pair(𝑖,𝑗)is said to be concordant if
and only if both 𝑅ˆ𝑌(𝑖)>𝑅ˆ𝑌(𝑗)and𝑅𝑌(𝑖)>𝑅𝑌(𝑗), or both
𝑅ˆ𝑌(𝑖)<𝑅ˆ𝑌(𝑗)and𝑅𝑌(𝑖)<𝑅𝑌(𝑗). Otherwise, it is said to be
discordant. To calculate this metric, nodes in the prediction
are first divided into two sets: i) nodes in label V𝑖𝑛={ˆ𝑦𝑖|ˆ𝑦𝑖∈
𝑌}, and ii) nodes not in label V𝑛𝑜𝑡={ˆ𝑦𝑖|ˆ𝑦𝑖∉𝑌}. The order
of items inV𝑖𝑛is available, while it is hard to tell the or-
der of items inV𝑛𝑜𝑡. Still, we know that all items in V𝑖𝑛are
ahead of that inV𝑛𝑜𝑡. Therefore, we compare the nodes pairs
{(𝑖,𝑗)|𝑖,𝑗∈V𝑖𝑛and𝑖≠𝑗}∪{(𝑖,𝑗)|𝑖∈V𝑖𝑛and𝑗∈V𝑛𝑜𝑡}.
To this end, KRC is defined as:
KRC=𝑁𝑐−𝑁𝑑
𝑁𝑐+𝑁𝑑, (1)
where𝑁𝑐is the number of concordant pairs, and 𝑁𝑑is the
number of discordant pairs.
•ED:Edit Distance [ 34] (ED) is an indicator to quantify how
dissimilar two sequences 𝑌and ˆ𝑌are to one another, by
counting the minimum number of required operations to
transform one sequence into another.
•LSD: Location Square Deviation (LSD) measures the degree
that the prediction deviates from the label, formulated as:
LMD=1
𝑚𝑚∑︁
𝑖=1|(𝑅𝑌(𝑖)−𝑅ˆ𝑌(𝑖))|. (2)
•HR@𝑘: Hit-Rate@ 𝑘quantifies the similarity between the
top-𝑘items of two sequences. It describes how many of the
first𝑘predictions are in the label, which is formulated as
follows:
HR@𝑘=ˆ𝑌[1:𝑘]∩𝑌[1:𝑘]
𝑘. (3)
Results. Following [ 47], we adopt HR@ 𝑘, KRC, LMD, and ED to
evaluate model performance. Higher KRC, HR@ 𝑘, and lower LSD
and ED mean better performance. The number of packages in each
sample is in(0,25]. Table 5 shows the results of different methods
onLaDe . It can be observed that basic models such as Time-Greedy
and Distance-Greedy perform poorly since they can only make use
of distance or time information. Or-Tools performs inferior in route
prediction compared with the machine learning method OSquare.
It proves that the worker’s route is not always the shortest given a
set of unfinished tasks.
Deep models generally achieve better performance than shal-
low models, because of their ability to model abundant spatial
and temporal features. This further proves the importance of the
comprehensive information provided by LaDe for building more
powerful models. Among deep models, Graph2Route performs well
due to its ability to model the underlying graph correlation of differ-
ent packages, and leverage the information of previous time steps
for more accurate prediction.
5996LaDe: The First Comprehensive Last-mile Express Dataset from Industry KDD ’24, August 25–29, 2024, Barcelona, Spain
courier
unpicked
-
up 
package
customer
Appointment Time 15:30
-
17:30
Notify recipient
Change order
Cancel order
Pay
ETA
Expected to come 
around
17:00
The tracking number will be 
displayed after the parcel is picked.
Code
3004
Save to photos album
（
a
）
Route
Prediction
predict
（
b
）
ETA Prediction
（
c
）
STG Forecasting
AOI / region
32
29
21
10
5
（
20m, 5 minutes
）
distance
to courier
time 
window
aoi_type
…
1km
9:30
-
10:30
school
…
distance
…
distance
…
query time
9:00
query time
9:00
Future 
Pickup Route
Figure 6: Illustration of three real-world applications. (a): Route prediction predicts the future pick-up route of a courier. (b):
ETA prediction estimates the courier’s arrival time for picking up or delivering packages. (c): STG forecasting predicts the
future package number in given regions/AOIs.
Deep learning methods (FDNET, DeepRoute, and Graph2Route)
utilize cross entropy as training criteria. In the test phase, the non-
differentiable objective, such as LSD, is designed to evaluate the
predicted route. Thus, the training criteria are different from the test
one, which could trim down their performance when applied in a
real-world system. To address this problem, DRL4Route is proposed
which combines the power of reinforcement learning methods in
non-differentiable objective optimization with the abilities of deep
learning models in behavior learning. It achieve the best result
among all three datasets, with 73.12%, 72.18% and 72.07% on HR@3
in Chongqing, Shanghai, and Yantai, respectively.
4.2 Estimated Time of Arrival Prediction
Estimated Time of Arrival (ETA) prediction aims to forecast when
the task is going to be finished, e.g., the delivery time of a package.
It is one of the most important tasks in many delivery platforms
since it directly influences customers’ experience [52].
Problem Definition. Given an ETA query of worker 𝑤at time
𝑡, i.e.,𝑞={𝑡,X𝑤
𝑡}, where X𝑤
𝑡={x1,x2,...,x𝑛}is the courier’s
unfinished packages, ETA prediction aims to build a model Fthat
can map the input query to the arrival time (i.e., pick-up/delivery
time) 𝒀for the unfinished package set: F(𝑞)↦→𝒀={𝑦1,...,𝑦𝑛},
where𝑦𝑖=𝑡actual
𝑖−𝑡and𝑡actualis task𝑖’s actual arrival time.
Dataset. LaDe-D is utilized for this experiment (note that LaDe-P
can also be used for this task). We split the data into training,
validation, and test sets chronologically in a ratio of 6:2:2.
Baselines & Hyperparameters. Six baselines are evaluated for
the task, including a simple speed-based method SPEED, machine
learning methods LightGBM [20] and KNN [43], and deep models
FDNET [14], and RANKETPA [49]:
•SPEED, a simple speed-based method that utilizes distance/speed
as the prediction value, where speed is calculated based
on each worker’s history trajectories. We set the speed for
workers without previous trajectories as the average speed
calculated by all workers.
•LightGBM [ 20], a popular machine-learning method for re-
gression tasks.•KNN [ 43], a machine-learning method that trains a regres-
sor based on K-Nearest Neighbors algorithm to predict the
arrival time.
•FDNET [ 14], a deep learning method equipped with a Pointer
Net for predicting both the route and time of unfinished
tasks.
•RANKETPA [ 49], a two-step model that first predicts the
route, based on which the time prediction is conducted.
We also perform hyperparameters search on the validation set
by hidden size in {16, 32, 64, 128} for all deep models. The learning
rate and batch size are set to 0.00005 and 32 for all models.
Metrics. For the metrics, MAE (Mean Absolute Error) and RMSE
(Root Mean Squared Error), and ACC@20 are utilized. Note that
delivery platforms usually provide an interval of arrival time for cus-
tomer notification. Thus we compute the ratio of prediction where
the time difference between predicted time and true time is less than
20minutes (ACC@20), formulated as ACC@20 =1
𝑁Í𝑁
𝑖=1I(|ˆ𝑦𝑖−
𝑦𝑖|<20).
Results. MAE, RMSE, and ACC@20 are used to evaluate the
performance of time prediction models. Higher ACC@20 and lower
MAE and RMSE indicate better performance. Table 6 summarizes
the overall performance comparison on LaDe-D in three cities.
Specifically, SPEED is intuitive and efficient but inaccurate since
complex factors influencing the arrival time, such as accept time and
type of the AOI, are not considered. In contrast, machine learning
methods (i.e., LightGBM and KNN) outperform SPEED. It further
proves that mining spatio-temporal correlations help better arrival
time prediction.
As for the deep-learning models (FDNET, RANKETPA), it is
conducive to modeling the worker’s route first and then predicting
the delivery time, as suggested by the comparative results of FDNet
and RANKETPA. RANKETPA performs relatively better in the three
datasets. Moreover, we also observe a huge performance gap of
the same method in different cities. For example, the best model,
RANKETPA, achieves 73.67% in terms of ACC@20 in Shanghai,
while it gets a much lower accuracy of 54.45% in Chongqing and
57.83% in Yantai. This further implies the data’s diversity, where
different cities pose various spatial-temporal patterns that a single
5997KDD ’24, August 25–29, 2024, Barcelona, Spain Lixia Wu, et al.
Table 5: Experiment Results of Route Prediction.
Metho
dChongqing Shanghai Y
antai
HR@3↑ KRC↑ LSD↓ ED↓ HR@3↑ KRC↑ LSD↓ ED↓ HR@3↑ KRC↑ LSD↓ ED↓
Time-Gr
eedy 63.86±0.00 44.16±0.00 3.91±0.00 1.74±0.00 59.81±0.00 39.93±0.00 5.20±0.00 2.24±0.00 61.23±0.00 39.64±0.00 4.62±0.00 1.85±0.00
Distance-Gr
eedy 62.99±0.00 41.48±0.00 4.22±0.00 1.60±0.00 61.07±0.00 42.84±0.00 5.35±0.00 1.94±0.00 62.34±0.00 40.82±0.00 4.49±0.00 1.64±0.00
Or-
Tools 64.19±0.00 43.09±0.00 3.67±0.00 1.55±0.00 62.50±0.00 44.81±0.00 4.69±0.00 1.88±0.00 63.27±0.00 42.31±0.00 3.94±0.00 1.59±0.00
OSquar
e 71.55±0.00 54.53±0.00 2.63±0.00 1.54±0.00 70.63±0.00 54.48±0.00 3.27±0.00 1.92±0.00 70.41±0.00 52.90±0.00 2.87±0.00 1.59±0.00
FDNET 69.98±0.32 52.07±0.38 3.36±0.04 1.51±0.01 69.05±1.23 52.72±1.72 4.08±0.25 1.86±0.03 69.08±0.61 50.62±1.20 3.60±0.15 1.57±0.02
De
epRoute 72.09±0.39 55.72±0.40 2.66±0.06 1.51±0.01 71.66±0.10 56.20±0.23 3.26±0.07 1.86±0.01 71.44±0.28 54.74±0.49 2.80±0.02 1.53±0.02
Graph2Route 72.31±0.20 56.08±0.14 2.53±0.05 1.50±0.01 71.69±0.10 56.53±0.10 3.12±0.03 1.86±0.02 71.52±0.14 55.02±0.10 2.71±0.02 1.54±0.01
DRL4Route 73.12±0.0657.07±0.072.44±0.011.48±0.0172.18±0.1557.20±0.183.06±0.021.84±0.0172.07±0.0655.66±0.242.64±0.011.52±0.01
Table 6: Experiment results of ETA prediction.
Metho
dShanghai Y
antai Chongqing
MAE↓ RMSE↓A
CC@20↑MAE↓ RMSE↓A
CC@20↑MAE↓ RMSE↓A
CC@20↑
SPEED 26.68±0.00 31.31±0.00 52.57±0.00 33.97±0.00 40.27±0.00 42.03±0.00 35.55±0.00 42.06±0.00 41.10±0.00
KNN 25.22±0.00 29.57±0.00 65.71±0.00 28.10±0.00 33.80±0.00 45.33±0.00 29.45±0.00 35.19±0.00 43.68±0.00
LightGBM 17.24±0.00 20.40±0.00 67.44±0.00 23.32±0.00 27.82±0.00 51.22±0.00 24.22±0.00 27.99±0.00 48.80±0.00
FDNET 18.81±1.23 21.15±2.47 64.30±1.43 22.41±0.50 26.00±0.63 54.67±1.55 22.54±0.9124.53±0.92 46.65±4.82
RANKETP
A15.76±0.0519.13±0.08 73.67±0.15 21.36±0.0725.52±0.08 57.83±0.07 23.37±0.01 27.93±0.04 54.45±0.10
Table 7: Experimental results of spatio-temporal graph prediction.
Metho
dShanghai Hangzhou Chongqing
MAE↓ RMSE↓ MAE↓ RMSE↓ MAE↓ RMSE↓
HA
[61] 4.63
9.91 4.78
10.53 2.44
5.30
DCRNN [24] 3.69±0.09 7.08±0.12 4.14±0.02 7.35±0.07 2.75±0.07 5.11±0.12
ST
GCN [58] 3.04±0.02 6.42±0.05 3.01±0.04 5.98±0.10 2.16±0.01 4.38±0.03
GWNET
[55] 3.16±0.06 6.56±0.11 3.22±0.03 6.32±0.04 2.22±0.03 4.45±0.05
AST
GCN [15] 3.12±0.06 6.48±0.14 3.09±0.04 6.06±0.10 2.11±0.02 4.24±0.03
MT
GNN [54] 3.13±0.04 6.51±0.13 3.01±0.01 5.83±0.03 2.15±0.01 4.28±0.05
A
GCRN [2] 3.93±0.03 7.99±0.08 4.00±0.03 7.88±0.06 2.46±0.00 4.87±0.01
ST
GNCDE [9] 3.74±0.15 7.27±0.16 3.55±0.04 6.88±0.10 2.32±0.07 4.52±0.07
GMSDR
[28] 3.70±0.10 7.16±0.91 3.73±0.28 7.18±0.38 2.38±0.09 4.88±0.21
model cannot easily capture. Therefore, it deserves further study
to build a more powerful model that can generalize well in cities
with different properties.
4.3 Spatio-Temporal Graph (STG) Forecasting
LaDe contains the package data with information that records when
and where the package order is placed. Based on this, the package
number of a region within a certain period can be calculated. In this
way, LaDe also contributes as a new dataset to another well-known
task – spatio-temporal graph forecasting [24,42,57], which aims to
predict future graph signals given its historical observations.
Problem Definition. LetG={V,E,A}represent a graph
with𝑉nodes, whereV,Eare the node set and edge set, respec-
tively. A∈R𝑉×𝑉is a weighted adjacency matrix to describe the
graph topology. For V={𝑣1,...,𝑣𝑉}, letx𝑡∈R𝐹×𝑉denote𝐹-
dimentional signals generated by the 𝑉nodes at time 𝑡. Given
historical graph signals 𝒙h=[x1,···,x𝑇ℎ]of𝑇ℎtime steps and the
graphGas inputs, STG forcasting aims at learning a function Fto predict future graph signals 𝒙p, formulated as:F:(𝒙h;G)→
[x𝑇ℎ+1,···,x𝑇ℎ+𝑇𝑝]:=𝒙p, where𝑇𝑝is the forecasting horizon.
Dataset. LaDe-P is used to conduct this experiment. Each node
corresponds to a region within the city. The signal of each node
represents the number of packages picked up during a particular
time stamp. We set the time interval to be 1 hour. Our objective is to
leverage the data from the previous 24 hours to predict the package
volume for the subsequent 24 hours. We use the ratio of 6:2:2 for
training, evaluation, and testing sets based on the chronological
order of the timestamps.
Baselines & Hyperparameters. We evaluate eight baselines:
•HA[61]: HA predicts future values of a time series by calcu-
lating the mean of past observations.
•DCRNN [24]: employs a neural network that incorporates
diffusion convolution and sequence-to-sequence mechanisms.
•STGCN [58]: STGCN is a specialized spatio-temporal graph
convolution network that synergistically merges spectral
graph convolution with 1D convolution.
5998LaDe: The First Comprehensive Last-mile Express Dataset from Industry KDD ’24, August 25–29, 2024, Barcelona, Spain
•GWNET [55]: which creates an adaptive adjacency matrix
to capture spatial correlations and uses 1D dilated causal
convolution to capture temporal dependence.
•ASTGCN [15]: ASTGCN leverages the attention-based mech-
anisms and a spatio-temporal convolution system to dynam-
ically capture spatio-temporal correlations within the data.
•MTGNN [54]: MTGNN adopts a message-passing frame-
work to effectively model the temporal dynamics of graph-
structured data, by aggregating information from spatially
neighboring nodes and past time steps.
•AGCRN [2]: AGCRN incorporates two key modules, namely
Node Adaptive Parameter Learning and Data Adaptive Graph
Generation, to automatically infer inter-dependencies in traf-
fic series and capture node-specific patterns.
•GMSDR [28]: GMSDR improves upon RNNs by incorpo-
rating the hidden states of multiple historical time steps as
input at each time unit.
•STGNCDE [9]: STGNCDE is an innovative spatio-temporal
graph neural controlled differential equation model that
leverages two neural control differential equations to process
both spatial and sequential data.
We set the hidden size, learning rate, and batch size to 32, 0.001,
and 32 for all models.
Metrics. To assess the performance of the above-mentioned
models in spatio-temporal graph forecasting on our dataset, we
employ the metrics of Mean Absolute Error (MAE) and Root Mean
Squared Error (RMSE).
Results. The results on three different cities in LaDe are shown
in Table 7. Compared with commonly used datasets in traffic pre-
diction (such as PEMS [ 15]) for STG forecasting, the package distr-
bution in last-mile delivery is more sparse, which leads to smaller
prediction value and MSE. The data sparsity makes it even more
challenging to conduct the predictioin.
According to the results, the traditional HA model consistently
shows suboptimal results across all regions, which achieves 4.63,
4.78, 2.44 on MAE in Shanghai, Hangzhou, and Chongqi, respec-
tively. It indicates that simple average of previous values is not
enough for accurate package pick-up demand prediction.
In the Shanghai dataset, STGCN emerges as the most effec-
tive, emphasizing the utility of Temporal Convolutional Networks
(TCNs) in this context, which achieves 3.04 in MAE and 6.42 in
RMSE. In Hangzhou, AGCRN displays commendable accuracy, sur-
passing its predecessor DCRNN, underscoring the advancements in
RNN-based predictions. In Chongqing, while the newer models like
STGNCDE, and GMSDR, introduced in 2022, are promising, they
do not always outperform the established methodologies, which
suggests that the optimal model choice is closely tied to the specific
dynamics and characteristics of each region.
4.4 Disscussion of Other Potential Tasks
In addition to primary tasks, the dataset can provide substantial
support for a wide range of other tasks in different research fields.
Firstly, LaDe can be used for spatial-temporal data (STD) represen-
tation learning, which involves many topics that can be broadly
classified by the representation object: i) POI (Point of Interest)
representation learning [ 27], i.e., to learn the representation of thepickup/delivery location. ii) trajectory representation learning, i.e.,
to learn the representation of courier trajectory [ 13]; ii) AOI repre-
sentation learning [ 59]. The models developed in LaDe can also be
generalized to other fields such as food delivery and riding sharing.
Secondly, LaDe can be utilized to verify algorithms for optimization
problems, such as the vehicle route problem [ 60], delivery sched-
uling problem [ 16]. Thirdly, it can be used to data mining tasks
within the context of last-mile delivery [ 12,18,26,40] and saptial
crowding sourcing [8, 16].
Moreover, benefited by its large data volume and detailed infor-
mation, LaDe shows great potential to support the development of
foundation models [ 4] in geo-related domains [ 53]. In summary,
we present a list of tasks supported by LaDe in Table 8, highlight-
ing the minimal required information necessary for performing
each task using LaDe . This effectively showcases LaDe ’s remarkable
multi-task support capability. In the future, we plan to explore a
wider range of applications on LaDe.
Table 8: Supported tasks with minimal required information.
T
ask Package
Stop Courier Task-event Context
STD
Representation [27] ✓
✓
Vehicle Routing [60] ✓
✓ ✓
Delivery Scheduling [16] ✓
✓ ✓
Last-Mile Data Mining [18, 40] ✓
✓ ✓ ✓ ✓
Spatial Crowdsourcing [8, 16] ✓
✓ ✓ ✓
Time Prediction [39, 41] ✓
✓ ✓ ✓
Route Prediction [14, 47] ✓
✓ ✓ ✓
STG Forecasting [42, 57] ✓
✓ ✓
5 CONCLUSION
In this paper, we introduced LaDe , the first comprehensive industry-
scale last-mile express dataset, addressing the lack of a widely ac-
cepted, publicly available dataset for last-mile delivery research.
LaDe provides a critical resource for researchers and practition-
ers to develop advanced algorithms in the context of last-mile de-
livery, with its large-scale, comprehensive, diverse, and dynamic
characteristics enabling it to serve as a new and challenging bench-
mark dataset. We have also demonstrated the versatility of LaDe by
benchmarking it on three real-world tasks, showcasing its potential
applications in various research fields. The source code is released
along with the dataset to drive the development of this area. By
releasing LaDe , we aim to promote further research and collabo-
ration among researchers from different fields, encouraging them
to utilize it for developing novel algorithms and models, as well
as comparing and validating their methods against state-of-the-art
approaches. We believe that LaDe will significantly contribute to
ongoing efforts to improve efficiency, cost-effectiveness, and cus-
tomer satisfaction in last-mile delivery, ultimately benefiting the
research community and logistics industry.
ACKNOWLEDGMENTS
This work is mainly supported by the Guangzhou-HKUST(GZ)
Joint Funding Program (No. 2024A03J0620). It is also funded by
Guangzhou Municipal Science and Technology Project 2023A03J0011.
It is also supported by Singapore Ministry of Education Academic
Research Fund Tier 2 under MOE’s official grant number T2EP20221-
0023.
5999KDD ’24, August 25–29, 2024, Barcelona, Spain Lixia Wu, et al.
REFERENCES
[1]Paul Almasan, José Suárez-Varela, Krzysztof Rusek, Pere Barlet-Ros, and Albert
Cabellos-Aparicio. 2022. Deep reinforcement learning meets graph neural net-
works: exploring a routing optimization use case. Computer Communications 196
(2022), 184–194.
[2]Lei Bai, Lina Yao, Can Li, Xianzhi Wang, and Can Wang. 2020. Adaptive graph
convolutional recurrent network for traffic forecasting. Advances in neural
information processing systems 33 (2020), 17804–17815.
[3]Irwan Bello, Hieu Pham, Quoc V Le, Mohammad Norouzi, and Samy Bengio.
2017. Neural combinatorial optimization with reinforcement learning. In ICLR.
[4]Rishi Bommasani, Drew A Hudson, Ehsan Adeli, Russ Altman, Simran Arora,
Sydney von Arx, Michael S Bernstein, Jeannette Bohg, Antoine Bosselut, Emma
Brunskill, et al .2021. On the opportunities and risks of foundation models. arXiv
preprint arXiv:2108.07258 (2021).
[5]Nils Boysen, Stefan Fedtke, and Stefan Schwerdfeger. 2021. Last-mile delivery
concepts: a survey from an operational research perspective. Or Spectrum 43
(2021), 1–58.
[6]Ulrich Breunig, Roberto Baldacci, Richard F Hartl, and Thibaut Vidal. 2019. The
electric two-echelon vehicle routing problem. Computers & Operations Research
103 (2019), 198–210.
[7]Tianyue Cai, Huaiyu Wan, Fan Wu, Haomin Wen, Shengnan Guo, Lixia Wu,
Haoyuan Hu, and Youfang Lin. 2023. M 2 g4rtp: A multi-level and multi-task
graph model for instant-logistics route and time joint prediction. In 2023 IEEE
39th International Conference on Data Engineering (ICDE). IEEE, 3296–3308.
[8]Chao Chen, Sen Yang, Yasha Wang, Bin Guo, and Daqing Zhang. 2020. Crowd-
Express: a probabilistic framework for on-time crowdsourced package deliveries.
IEEE transactions on big data 8, 3 (2020), 827–842.
[9]Jeongwhan Choi, Hwangyong Choi, Jeehyun Hwang, and Noseong Park. 2022.
Graph neural controlled differential equations for traffic forecasting. In Proceed-
ings of the AAAI Conference on Artificial Intelligence, Vol. 36. 6367–6374.
[10] Arthur Cruz de Araujo and Ali Etemad. 2021. End-to-End Prediction of Parcel
Delivery Time with Deep Learning for Smart-City Applications. IEEE Internet of
Things Journal (2021).
[11] Jia Deng, Wei Dong, Richard Socher, Li-Jia Li, Kai Li, and Li Fei-Fei. 2009. Imagenet:
A large-scale hierarchical image database. In 2009 IEEE conference on computer
vision and pattern recognition. Ieee, 248–255.
[12] Boya Du, Shaochuan Lin, Jiong Gao, Xiyu Ji, Mengya Wang, Taotao Zhou, Hengxu
He, Jia Jia, and Ning Hu. 2023. BASM: A Bottom-up Adaptive Spatiotemporal
Model for Online Food Ordering Service. In 2023 IEEE 39th International Confer-
ence on Data Engineering (ICDE). IEEE, 3549–3562.
[13] Tao-Yang Fu and Wang-Chien Lee. 2020. Trembr: Exploring road networks for
trajectory representation learning. ACM Transactions on Intelligent Systems and
Technology (TIST) 11, 1 (2020), 1–25.
[14] Chengliang Gao, Fan Zhang, Guanqun Wu, Qiwan Hu, Qiang Ru, Jinghua Hao,
Renqing He, and Zhizhao Sun. 2021. A Deep Learning Method for Route and
Time Prediction in Food Delivery Service. In KDD. 2879–2889.
[15] Shengnan Guo, Youfang Lin, Ning Feng, Chao Song, and Huaiyu Wan. 2019.
Attention based spatial-temporal graph convolutional networks for traffic flow
forecasting. In Proceedings of the AAAI conference on artificial intelligence, Vol. 33.
922–929.
[16] Shuihua Han, Ling Zhao, Kui Chen, Zong-wei Luo, and Deepa Mishra. 2017.
Appointment scheduling and routing optimization of attended home delivery
system with random customer behavior. European Journal of Operational Research
262, 3 (2017), 966–980.
[17] Mahyar Jahangiriesmaili, Sina Bahrami, and Matthew J Roorda. 2017. Solution of
two-echelon facility location problems by approximation methods. Transportation
Research Record 2610, 1 (2017), 1–9.
[18] Shenggong Ji, Yu Zheng, Zhaoyuan Wang, and Tianrui Li. 2019. Alleviating
users’ pain of waiting: Effective task grouping for online-to-offline food delivery
services. In The World Wide Web Conference. 773–783.
[19] Manas Joshi, Arshdeep Singh, Sayan Ranu, Amitabha Bagchi, Priyank Karia, and
Puneet Kala. 2022. FoodMatch: Batching and Matching for Food Delivery in
Dynamic Road Networks. ACM Transactions on Spatial Algorithms and Systems
(TSAS) 8, 1 (2022), 1–25.
[20] Guolin Ke, Qi Meng, Thomas Finley, Taifeng Wang, Wei Chen, Weidong Ma,
Qiwei Ye, and Tie-Yan Liu. 2017. Lightgbm: A highly efficient gradient boosting
decision tree. Advances in neural information processing systems 30 (2017).
[21] Ashu Kedia, Diana Kusumastuti, and Alan Nicholson. 2020. Locating collection
and delivery points for goods’ last-mile travel: A case study in New Zealand.
Transportation Research Procedia 46 (2020), 85–92.
[22] Maurice G Kendall. 1938. A new measure of rank correlation. Biometrika 30, 1/2
(1938), 81–93.
[23] Xijun Li, Weilin Luo, Mingxuan Yuan, Jun Wang, Jiawen Lu, Jie Wang, Jinhu Lü,
and Jia Zeng. 2021. Learning to optimize industry-scale dynamic pickup and
delivery problems. In 2021 IEEE 37th International Conference on Data Engineering
(ICDE). IEEE, 2511–2522.[24] Yaguang Li, Rose Yu, Cyrus Shahabi, and Yan Liu. 2018. Diffusion Convolutional
Recurrent Neural Network: Data-Driven Traffic Forecasting. In International
Conference on Learning Representations.
[25] Stanley Frederick WT Lim and Jagjit Singh Srai. 2018. Examining the anatomy
of last-mile distribution in e-commerce omnichannel retailing: A supply net-
work configuration approach. International Journal of Operations & Production
Management (2018).
[26] Shaochuan Lin, Jiayan Pei, Taotao Zhou, Hengxu He, Jia Jia, and Ning Hu. 2023.
Exploring the Spatiotemporal Features of Online Food Recommendation Service.
InProceedings of the 46th International ACM SIGIR Conference on Research and
Development in Information Retrieval. 3354–3358.
[27] Yan Lin, Huaiyu Wan, Shengnan Guo, and Youfang Lin. 2021. Pre-training context
and time aware location embeddings from spatial-temporal trajectories for user
next location prediction. In Proceedings of the AAAI Conference on Artificial
Intelligence, Vol. 35. 4241–4248.
[28] Dachuan Liu, Jin Wang, Shuo Shang, and Peng Han. 2022. Msdr: Multi-step
dependency relation networks for spatial temporal forecasting. In Proceedings
of the 28th ACM SIGKDD Conference on Knowledge Discovery and Data Mining.
1042–1050.
[29] Elżbieta Macioszek. 2018. First and last mile delivery–problems and issues. In
Advanced Solutions of Transport Systems for Growing Mobility: 14th Scientific and
Technical Conference" Transport Systems. Theory & Practice 2017" Selected Papers.
Springer, 147–154.
[30] Riccardo Mangiaracina, Alessandro Perego, Arianna Seghezzi, and Angela Tu-
mino. 2019. Innovative solutions to increase last-mile delivery efficiency in B2C
e-commerce: a literature review. International Journal of Physical Distribution &
Logistics Management (2019).
[31] Xiaowei Mao, Huaiyu Wan, Haomin Wen, Fan Wu, Jianbin Zheng, Yuting Qiang,
Shengnan Guo, Lixia Wu, Haoyuan Hu, and Youfang Lin. 2023. GMDNet: A
Graph-Based Mixture Density Network for Estimating Packages’ Multimodal
Travel Time Distribution. In Proceedings of the AAAI Conference on Artificial
Intelligence, Vol. 37. 4561–4568.
[32] Xiaowei Mao, Haomin Wen, Hengrui Zhang, Huaiyu Wan, Lixia Wu, Jianbin
Zheng, Haoyuan Hu, and Youfang Lin. 2023. DRL4Route: A Deep Reinforcement
Learning Framework for Pick-up and Delivery Route Prediction. In Proceedings
of the 29th ACM SIGKDD Conference on Knowledge Discovery and Data Mining.
4628–4637.
[33] Daniel Merchán, Jatin Arora, Julian Pachon, Karthik Konduri, Matthias Winken-
bach, Steven Parks, and Joseph Noszek. 2022. 2021 Amazon Last Mile Routing
Research Challenge: Data Set. Transportation Science (2022).
[34] John Nerbonne, Wilbert Heeringa, and Peter Kleiweg. 1999. Edit distance and
dialect proximity. Time Warps, String Edits and Macromolecules: The theory and
practice of sequence comparison 15 (1999).
[35] John Olsson, Daniel Hellström, and Henrik Pålsson. 2019. Framework of last
mile logistics research: A systematic review of the literature. Sustainability 11,
24 (2019), 7131.
[36] MID Ranathunga, AN Wijayanayake, and DHH Niwunhella. 2021. Solution ap-
proaches for combining first-mile pickup and last-mile delivery in an e-commerce
logistic network: A systematic literature review. In 2021 International Research
Conference on Smart Computing and Systems Engineering (SCSE), Vol. 4. IEEE,
267–275.
[37] Meera Ratnagiri, Clare O’Dwyer, Logan E Beaver, Heeseung Bang, Behdad Cha-
laki, and Andreas A Malikopoulos. 2022. A scalable last-mile delivery service:
From simulation to scaled experiment. In 2022 IEEE 25th International Conference
on Intelligent Transportation Systems (ITSC). IEEE, 4163–4168.
[38] Sijie Ruan, Cheng Long, Jie Bao, Chunyang Li, Zisheng Yu, Ruiyuan Li, Yuxuan
Liang, Tianfu He, and Yu Zheng. 2020. Learning to generate maps from tra-
jectories. In Proceedings of the AAAI conference on artificial intelligence, Vol. 34.
890–897.
[39] Sijie Ruan, Cheng Long, Zhipeng Ma, Jie Bao, Tianfu He, Ruiyuan Li, Yiheng Chen,
Shengnan Wu, and Yu Zheng. 2022. Service Time Prediction for Delivery Tasks
via Spatial Meta-Learning. In Proceedings of the 28th ACM SIGKDD Conference on
Knowledge Discovery and Data Mining. 3829–3837.
[40] Sijie Ruan, Cheng Long, Xiaodu Yang, Tianfu He, Ruiyuan Li, Jie Bao, Yiheng
Chen, Shengnan Wu, Jiangtao Cui, and Yu Zheng. 2022. Discovering Actual
Delivery Locations from Mis-Annotated Couriers’ Trajectories. In 2022 IEEE 38th
International Conference on Data Engineering (ICDE). IEEE, 3241–3253.
[41] Sijie Ruan, Zi Xiong, Cheng Long, Yiheng Chen, Jie Bao, Tianfu He, Ruiyuan
Li, Shengnan Wu, Zhongyuan Jiang, and Yu Zheng. 2020. Doing in one go:
delivery time inference based on couriers’ trajectories. In Proceedings of the 26th
ACM SIGKDD International Conference on Knowledge Discovery & Data Mining.
2813–2821.
[42] Jelena Simeunović, Baptiste Schubnel, Pierre-Jean Alet, and Rafael E Carrillo.
2021. Spatio-temporal graph neural networks for multi-site PV power forecasting.
IEEE Transactions on Sustainable Energy 13, 2 (2021), 1210–1220.
[43] Junxian Song, Rong Wen, Chi Xu, and Joel Wei En Tay. 2019. Service Time
Prediction for Last-Yard Delivery. In 2019 IEEE International Conference on Big
Data (Big Data). IEEE, 3933–3938.
6000LaDe: The First Comprehensive Last-mile Express Dataset from Industry KDD ’24, August 25–29, 2024, Barcelona, Spain
[44] Eiichi Taniguchi, Russell G Thompson, and Ali G Qureshi. 2020. Modelling city
logistics using recent innovative technologies. Transportation Research Procedia
46 (2020), 3–12.
[45] Yulia Vakulenko, Daniel Hellström, and Klas Hjort. 2018. What’s in the parcel
locker? Exploring customer value in e-commerce last mile delivery. journal of
Business Research 88 (2018), 421–427.
[46] Alex Wang, Amanpreet Singh, Julian Michael, Felix Hill, Omer Levy, and Samuel R
Bowman. 2018. GLUE: A multi-task benchmark and analysis platform for natural
language understanding. arXiv preprint arXiv:1804.07461 (2018).
[47] Haomin Wen, Youfang Lin, Xiaowei Mao, Fan Wu, Yiji Zhao, Haochen Wang,
Jianbin Zheng, Lixia Wu, Haoyuan Hu, and Huaiyu Wan. 2022. Graph2Route: A
Dynamic Spatial-Temporal Graph Neural Network for Pick-up and Delivery Route
Prediction. In Proceedings of the 28th ACM SIGKDD Conference on Knowledge
Discovery and Data Mining. 4143–4152.
[48] Haomin Wen, Youfang Lin, Fan Wu, Huaiyu Wan, Shengnan Guo, Lixia Wu, Chao
Song, and Yinghui Xu. 2021. Package Pick-up Route Prediction via Modeling
Couriers’ Spatial-Temporal Behaviors. In ICDE. IEEE, 2141–2146.
[49] Haomin Wen, Youfang Lin, Fan Wu, Huaiyu Wan, Zhongxiang Sun, Tianyue
Cai, Hongyu Liu, Shengnan Guo, Jianbin Zheng, Chao Song, et al .2023. Enough
Waiting for the Couriers: Learning to Estimate Package Pick-up Arrival Time
from Couriers’ Spatial-Temporal Behaviors. ACM Transactions on Intelligent
Systems and Technology 14, 3 (2023), 1–22.
[50] Haomin Wen, Youfang Lin, Lixia Wu, Xiaowei Mao, Tianyue Cai, Yunfeng Hou,
Shengnan Guo, Yuxuan Liang, Guangyin Jin, Yiji Zhao, et al .2023. A Survey on
Service Route and Time Prediction in Instant Delivery: Taxonomy, Progress, and
Prospects. arXiv preprint arXiv:2309.01194 (2023).
[51] Haomin Wen, Youfang Lin, Yutong Xia, Huaiyu Wan, Qingsong Wen, Roger
Zimmermann, and Yuxuan Liang. 2023. Diffstg: Probabilistic spatio-temporal
graph forecasting with denoising diffusion models. In Proceedings of the 31st ACM
International Conference on Advances in Geographic Information Systems. 1–12.
[52] Fan Wu and Lixia Wu. 2019. DeepETA: A Spatial-Temporal Sequential Neural
Network Model for Estimating Time of Arrival in Package Delivery System. In
Proceedings of the AAAI Conference on Artificial Intelligence. 774–781.
[53] Lixia Wu, Jianlin Liu, Junhong Lou, Haoyuan Hu, Jianbin Zheng, Haomin Wen,
Chao Song, and Shu He. 2023. G2PTL: A Pre-trained Model for Delivery Address
and its Applications in Logistics System. KDD 23 Urban Computing Workshop
(2023).
[54] Zonghan Wu, Shirui Pan, Guodong Long, Jing Jiang, Xiaojun Chang, and Chengqi
Zhang. 2020. Connecting the dots: Multivariate time series forecasting with graph
neural networks. In Proceedings of the 26th ACM SIGKDD International Conference
on Knowledge Discovery & Data Mining. 753–763.
[55] Zonghan Wu, Shirui Pan, Guodong Long, Jing Jiang, and Chengqi Zhang. 2019.
Graph WaveNet for Deep Spatial-Temporal Graph Modeling. In IJCAI. 1907–1913.
[56] Bing Yao, Caitlin McLean, and Hui Yang. 2019. Robust optimization of dynamic
route planning in same-day delivery networks with one-time observation of new
demand. Networks 73, 4 (2019), 434–452.
[57] Huaxiu Yao, Fei Wu, Jintao Ke, Xianfeng Tang, Yitian Jia, Siyu Lu, Pinghua Gong,
Jieping Ye, and Zhenhui Li. 2018. Deep multi-view spatial-temporal network
for taxi demand prediction. In Proceedings of the AAAI conference on artificial
intelligence, Vol. 32.
[58] Bing Yu, Haoteng Yin, and Zhanxing Zhu. 2018. Spatio-temporal Graph Con-
volutional Networks: A Deep Learning Framework for Traffic Forecasting. In
IJCAI.
[59] Mingxuan Yue, Tianshu Sun, Fan Wu, Lixia Wu, Yinghui Xu, and Cyrus Shahabi.
2021. Learning a Contextual and Topological Representation of Areas-of-Interest
for On-Demand Delivery Application. In Machine Learning and Knowledge Dis-
covery in Databases: Applied Data Science Track: European Conference, ECML
PKDD 2020, Ghent, Belgium, September 14–18, 2020, Proceedings, Part IV. Springer,
52–68.
[60] Yuxiang Zeng, Yongxin Tong, and Lei Chen. 2019. Last-mile delivery made
practical: An efficient route planning framework with theoretical guarantees.
Proceedings of the VLDB Endowment 13, 3 (2019), 320–333.
[61] Junbo Zhang, Yu Zheng, and Dekang Qi. 2017. Deep Spatio-Temporal Residual
Networks for Citywide Crowd Flows Prediction. In AAAI. 1655–1661.
[62] Yan Zhang, Yunhuai Liu, Genjian Li, Yi Ding, Ning Chen, Hao Zhang, Tian He,
and Desheng Zhang. 2019. Route prediction for instant delivery. Proceedings of
the ACM on Interactive, Mobile, Wearable and Ubiquitous Technologies 3, 3 (2019),
Article 124.
A DETAILED DATASET DESCRIPTION
A.1 Data Field
Table 9, and Table 10 show the data fields of LaDe-D , and Road
Network, respectively.Table 9: Description of data fields of LaDe-D.
Data
field Description Unit/format
Package
information
package_id
Unique identifier of each package Id
Stop
information
x/y
Coordinates of each stop in the two-dimensional space Float
city City String
region_id Id of the region Id
aoi_id Id of the AOI Id
aoi_type Type of the AOI Categorical
Courier
Information
courier_id
Id of the courier Id
T
ask-event Information
accept_time
The time when the courier accepts the task Time
accept_gps_time GPS point time which is the closest to accept time Time
accept_gps_x/accept_gps_y Coordinates when the courier accept the task Float
delivery_time The time when courier finishes delivering the task Time
delivery_gps_time GPS point time which is the closest to the got time Time
delivery_gps_x/delivery_gps_y Coordinates when the courier finishes the task Float
Conte
xt information
ds
the date of the package delivery Date
Table 10: Description of data fields of Road Network.
Data
field Description Unit/format
id
Unique identifier of the road Id
road_id Id of a street or place name Id
code 4 digit code of a road’s geographical features Id
fclass Class name of the road String
ref Reference number of the road String
oneway Whether the road is a oneway road String
maxspeed Max allowed speed in km/h Int
layer Relative layering of roads Int
bridge Whether the road is on a bridge String
tunnel Whether the road is in a tunnel String
city City of the road String
geometry composed of one or more line segments String
Table 11: Information of different selected cities.
City Description
Shanghai One
of the most prosperous cities in China, with a large number of orders per day.
Hangzhou A
big city with well-developed online e-commerce and a large number of orders per day.
Chongqing A
big city with complicated road conditions in China, with a large number of orders.
Jilin A
middle-size city in China, with a small number of orders each day.
Yantai A
small city in China, with a small number of orders every day.
A.2 Data Statistics
Table 12, and Table 13 show the detailed statistics of LaDe-D , and
Detailed Trajectory.
Table 12: Statistics of LaDe-D . AvgETA stands for the average
arrival time per package. AvgPackage means the average
package number of a courier per day. The unit of AvgETA is
minute.
City
Time span Spatial span #Trajectories #Couriers #Packages #GPS points AvgETA AvgPackage
Shanghai
6 months 77×73 km270k 1,733 1,483k 2,967k 102 21.1
Hangzhou 6 months 211 ×142 km271k 1,392 1,861k 3,723k 147 25.9
Chongqing 6 months 403 ×267 km268k 1,494 931k 1,862k 182 13.5
Yantai 6 months 155 ×114 km217k 205 206k 410k 244 11.5
Jilin 6 months 105 ×165 km22k 57 31k 61k 203 16.2
6001KDD ’24, August 25–29, 2024, Barcelona, Spain Lixia Wu, et al.
Table 13: Statistics of Detailed Trajectory.
City
Time span Spatial span #GPS points #Couriers
Shanghai
1 month 77×73 km29727k 245
Hangzhou 1 month 211 ×142 km217900k 443
Chongqing 1 month 403 ×267 km213520k 658
Yantai 1 month 155 ×114 km26616k 245
Jilin 1 month 105 ×165 km22849k 613
B DATASHEET OF DATASET
B.1 Motivation
•For what purpose was the dataset created? Was there a
specific task in mind? Was there a specific gap that needed
to be filled? Please provide a description.
To meet the rising calling for datasets in the field of last-mile
delivery research, we propose LaDe , the first industry-scale multi-
purpose real-world dataset. Compared with existing public datasets,
LaDe has serval merits: (1) large-scale, it consists of millions of
packages, which can serve as a data foundation for learning-based
algorithms in last-mile delivery. (2) Comprehensive information,
the dataset contains more comprehensive features, which enables
the data to support multiple research tasks. (3) Scenario diversity,
it contains the data from both the package pick-up and delivery
scenarios. Researchers can use the two sub-datasets to study the
different work patterns of couriers in different scenarios.
B.2 Composition
•What do the instances that comprise the dataset repre-
sent (e.g., documents, photos, people, countries)? Are
there multiple types of instances (e.g., movies, users, and
ratings; people and interactions between them; nodes and
edges)? Please provide a description.
The instances are packages picked up/delivered in the last-mile
delivery.
•How many instances are there in total (of each type, if
appropriate)?
There are 10,667k instances in LaDe , where an instance repre-
sents the features of a package.
•Does the dataset contain all possible instances or is it
a sample (not necessarily random) of instances from
a larger set? If the dataset is a sample, then what is the
larger set? Is the sample representative of the larger set
(e.g., geographic coverage)? If so, please describe how this
representativeness was validated/verified. If it is not repre-
sentative of the larger set, please describe why not (e.g., to
cover a more diverse range of instances, because instances
were withheld or unavailable).
The dataset is a sample of instances. We first randomly select
serval regions in a city, then collect all the packages in that re-
gion within a certain period. Note that for each region, the dataset
contains all possible instances within the given time period. To fur-
ther increase the diversity of the dataset, five cities with different
populations are selected and recorded.•What data does each instance consist of? “Raw” data
(e.g., unprocessed text or images) or features? In either case,
please provide a description.
The format of each instance in LaDe-P is
(package_id, time_window_start, time_window_end, x, y, city,
aoi_id, aoi_type, courier_id, accept_time, accept_gps_time,
accept_gps_x, accept_gps_y, pickup_time, pickup_gps_time,
pickup_gps_x, pickup_gps_y, ds).
The format of each instance in LaDe-D is
(package_id, x, y, city, aoi_id, aoi_type, courier_id, accept_time,
accept_gps_time, accept_gps_x, accept_gps_y, delivery_time,
delivery_gps_time, delivery_gps_x, delivery_gps_y, ds).
The format of each instance in Detailed Trajectory is
(courier_id, gps_time, x, y, ds)
The format of each instance in Road Network is
(id, road_id, code, fclass, ref, oneway, maxspeed, layer, bridge,
tunnel, city, geometry)
For the detailed description of each field, please refer to Table 2,
Table 9, Table 3, and Table 10 in Appendix A.1.
•Is there a label or target associated with each instance?
If so, please provide a description.
Since the dataset is proposed to support multiple tasks in last-
mile delivery, for easy use and flexibility, a label for a specific task
is not contained in one instance. However, it is easy to construct
the label for different research purposes from the raw information.
Take the estimated time of arrival prediction as an example. The
actual arrival time (in this case, the label) can be calculated by the
difference between the got_time and query_time.
•Is any information missing from individual instances?
If so, please provide a description, explaining why this infor-
mation is missing (e.g., because it was unavailable). This does
not include intentionally removed information, but might
include, e.g., redacted text.
Some instances lack the courier’s location when accepting/finishing
the package, i.e., accept_gps_x, accept_gps_y. The corresponding
information is massing in the real system.
•Are there recommended data splits (e.g., training, de-
velopment/validation, testing)? If so, please provide a
description of these splits, explaining the rationale behind
them.
For all the tasks conducted in the paper (i.e., route prediction,
time prediction, and spatio-temporal graph forecasting), we split the
data into 6:2:2 according to the time as the training set, validation
set, and test set.
•Is the dataset self-contained, or does it link to or oth-
erwise rely on external resources
The dataset is entirely self-contained.
Does the dataset identify any subpopulations (e.g., by age,
gender)? If so, please describe how these subpopulations are iden-
tified and provide a description of their respective distributions
within the dataset.
No.
6002