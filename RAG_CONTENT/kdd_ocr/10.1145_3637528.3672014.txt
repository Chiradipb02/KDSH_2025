Statistical Models of Top- kPartial Orders
Amel Awadelkarim
ameloa@stanford.edu
Stanford University
Stanford, CA, USAJohan Ugander
jugander@stanford.edu
Stanford University
Stanford, CA, USA
Abstract
In many contexts involving ranked preferences, agents submit par-
tialorders over available alternatives. Statistical models often treat
these as marginal in the space of total orders, but this approach over-
looks information contained in the list length itself. In this work,
we introduce and taxonomize approaches for jointly modeling dis-
tributions over top- kpartial orders and list lengths k, considering
two classes of approaches: composite models that view a partial
order as a truncation of a total order, and augmented ranking mod-
elsthat model the construction of the list as a sequence of choice
decisions, including the decision to stop. For composite models, we
consider three dependency structures for joint modeling of order
and truncation length. For augmented ranking models, we consider
different assumptions on how the stop-token choice is modeled.
Using data consisting of partial rankings from San Francisco school
choice and San Francisco ranked choice elections, we evaluate
how well the models predict observed data and generate realistic
synthetic datasets. We find that composite models, explicitly mod-
eling length as a categorical variable, produce synthetic datasets
with accurate length distributions, and an augmented model with
position-dependent item utilities jointly models length and prefer-
ences in the training data best, as measured by negative log loss.
Methods from this work have significant implications on the simula-
tion and evaluation of real-world social systems that solicit ranked
preferences.
CCS Concepts
•Computing methodologies →Model development and anal-
ysis; •Information systems →Learning to rank.
Keywords
rankings; partial orders; statistical modeling; discrete choice
ACM Reference Format:
Amel Awadelkarim and Johan Ugander. 2024. Statistical Models of Top- kPar-
tial Orders. In Proceedings of the 30th ACM SIGKDD Conference on Knowledge
Discovery and Data Mining (KDD ’24), August 25–29, 2024, Barcelona, Spain.
ACM, New York, NY, USA, 10 pages. https://doi.org/10.1145/3637528.3672014
Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for profit or commercial advantage and that copies bear this notice and the full citation
on the first page. Copyrights for components of this work owned by others than the
author(s) must be honored. Abstracting with credit is permitted. To copy otherwise, or
republish, to post on servers or to redistribute to lists, requires prior specific permission
and/or a fee. Request permissions from permissions@acm.org.
KDD ’24, August 25–29, 2024, Barcelona, Spain
©2024 Copyright held by the owner/author(s). Publication rights licensed to ACM.
ACM ISBN 979-8-4007-0490-1/24/08
https://doi.org/10.1145/3637528.36720141 Introduction
Ranked preferences serve as input to many consequential social
systems. In election contexts, ranked choice voting (RCV) asks vot-
ers to express their preferences for candidates with a ranked list of
available candidates, and these rankings are aggregated to select a
winner. In school choice contexts, families express preferences for
their child’s education by submitting a ranked list of available pro-
gram offerings to their district, and these preferences are considered
when matching students to programs.
In the vast majority of such contexts, participants often sub-
mit partial rankings, specifically top- krankings. For example, a
voter given a slate of malternatives may only express strict prefer-
ences for their first k<malternatives, and not bother to provide a
strict ordering of the rest. In many preference elicitation contexts,
truncating rankings in this manner can be highly consequential.
For example, in San Francisco school choice, families often sub-
mit truncated rankings over only kprograms, but around 11% of
households do not get assigned to any of their chosen alternatives
[1]. Submitting longer rankings would only increase their place-
ment chances, but the decision to truncate a preference list can be
easily understood in terms of high search costs, a misunderstand-
ing of the mechanism, or inflated subjective placement chances
[4,12,13,21,22,32]. In school choice, the decision to truncate can
thus mean the difference between gaining admittance to a preferred
school and being relegated to participating in a later round of as-
signment. As a lesser but still meaningful consequence, in ranked
choice voting, truncation can mean the difference between having
a say in later rounds of instant run-off voting vs. having one’s ballot
“exhausted.”
Statistical models of ranking data are often used by researchers
to model demand, understand trends in preferences, or simulate
counterfactual outcomes [ 2,3,10,20,28,34]. In counterfactual
simulations, inquiries center around what would happen (e.g., to
overall welfare) if people’s alternatives or preferences changed in
some structured way: some new candidate or school is added or
removed from the slate of alternatives, the school-age population
changes, or school prioritization changes. But investigating these
counterfactuals invariably involves strong assumptions about pref-
erence lengths: either that lengths are directly taken from observed
data or otherwise chosen independent of the ordered preferences
themselves [2, 20].
In this work, we argue that the problem of suitably modeling
length in top- kpartial orders is an overlooked and highly conse-
quential component of real-world deployments of ranking data
models. We consider two distinct approaches to modelling top- k
orders: composite models andaugmented ranking models. First, con-
sider the probability of a partial order Qof length k. The probability
of the order can be written as the probability of its length times the
marginal probability of total orders whose first kelements match
 
39
KDD ’24, August 25–29, 2024, Barcelona, Spain Amel Awadelkarim and Johan Ugander
Q. Informally (see Section 3.2 for a formal treatment), we have
Pr(Q)=Pr(k)·Õ
R∈¯QPr(R|k),
where ¯Qdenotes the set of total orders of mitems whose first k
elements are Q, and Ris an element of that set. Decoupling these two
component probabilities, a length model and a conditional ranking
model can indeed be combined to form a model of partial rankings,
a model class we call composite models. Under an independence
assumption, such a composite model is simply:
Pr(Q)=Pr(k)·Õ
R∈¯QPr(R),
dropping the conditional dependence in the ranking model. Moving
beyond independence, we consider situations where the component
models (of length, of order) can be have structured dependence,
and the models themselves be simple or complex.
Beyond composite models, we also take an alternative approach
that we call augmented ranking. In this approach, we augment the
choice universe with an ENDtoken representing end-of-list, and
consider a partial order as arising from a sequential choice process
that models termination itself as one of the available alternatives.
The agent selects kalternatives and then “chooses” the ENDtoken
at position k+1. This approach extends earlier ideas on model-
ing non-choice/non-purchase from choice settings to the ranking
setting. Using a choice-based approach to ranking, as developed
in the theory of L-decomposable ranking distributions [ 9,25], the
probability of a partial ranking Qbecomes
Pr(Q)=Pr(q1≻q2≻...≻qk)
=Pr(q1)·Pr(q2|q1)·...·Pr(qk|q1, ...,qk−1)·Pr(END|q1, ...,qk).
This lens implicitly models list length by augmenting the choice
space to include a token alternative representing end-of-list. This
token can be modeled as having fixed or position-dependent selec-
tion probabilities, and we evaluate such modelling decisions in our
work.
To model general dependence between ranking and length, we
utilize two model stratification techniques [ 5]. In the composite
case, the ranking model can be made dependent on the length by
learning Kseparate ranking models that cover Kdisjoint subsets
of the space of partial orders, partitioned by length. The probability
of a particular partial order Qwould then be the probability of
its length, k, times the probability of the ordering Qunder the
corresponding ranking model. In the case of augmented ranking
models, the ENDalternative (and/or the other choice alternatives)
are given Kdistinct choice probabilities depending on its choice
position within the ranking. This way, the probability of choosing
an alternative, including the ENDtoken, is allowed to vary down
the ranking.
The primary contribution of our work is the development and
evaluation of the composite and augmented ranking models, two
classes of models tailored to this consequential task. We consider
several instances and sub-classes of such models, and evaluate their
performances across a range of datasets with considerable variation
in the size of their choice universes, m. We find that the composite
approaches, which model list length explicitly, can produce more
accurate sampled length distributions when generating syntheticdatasets from the models, and that model stratification—a strategy
we employ in both composite and augmented models—improves
simulated demand over alternatives. While our results do not pro-
mote a universally dominant model nor model class, this work
begins to formalize and taxonomize approaches for modeling distri-
butions over the space of partial orders, and the results showcase
how these components can lead to improved demand modeling and
more realistic synthetic datasets.
In Section 2, we survey the related literature. In Section 3, we
present notation and definitions relevant to statistical models of
ranking. In Sections 4 and 5, we introduce and define the two classes
of partial order models discussed in this work, composite models
and augmented ranking models, respectively. Model selection and
estimation is discussed in Section 6. Datasets and experiments are
presented in Section 7. Section 8 concludes.
2 Related work
Traditional statistical models for rankings focus on modeling total
orders. Notable among these are variations of the Plackett–Luce (PL)
model, which has been extensively used in economics, marketing,
and revenue management, to learn consumer preferences from
choice and rank data. The Plackett–Luce model is a multi-stage
model whereby rankings are broken into sequential choices, which
are then modeled by a random utility choice model, the multinomial
logit (MNL) model [33].
Several works apply these models to learn preferences from
partial order datasets for the purposes of rank aggregation or ex-
planation of user preferences. For example, Zhao and Xia [ 37] de-
velop theory around the task of learning mixtures of Plackett–Luce
models from partial order data. In a school choice setting, Abdulka-
diroğlu et al. [ 2] learn an MNL choice model from partial order
data to evaluate how much parents value certain school attributes.
Li et al. [ 24] develop Bayesian techniques to learn from total and
partial ranking data with heterogeneous ranker preferences and
item covariates. While these works enlist the Plackett–Luce model
which produces a distribution over the space of total rankings, the
present work seeks to develop models that produce distributions
over a larger sample space, namely the set of all partial orderings
(which subsumes the former).
At other times, ranking models are specifically used to simulate
real agent behavior, including the submission of partial orders in
some preference elicitation contexts. In these instances, researchers
tend to learn models of total orders like the Plackett–Luce, simulate
sequences of choices, and then make some assumption about the
truncation of the data to achieve a dataset of partial orders. For
example, Pathak and Shi [ 2] learn an MNL choice model from partial
order data and then simulate partial orders by manually truncating
total orders to a predetermined length of ten. Laverde [ 20] models
partial orders to simulate counterfactual outcomes for Black and
Hispanic students in Boston, but chooses to impose the original list
lengths from the data. As a significant improvement, the models
developed in this work jointly model preferences and order lengths
from data, and we show this model enrichment is consequential for
counterfactual simulations.
Our augmented ranking model modifies choice-based ranking
to incorporate an alternative in the choice universe representing
 
40Statistical Models of Top- kPartial Orders KDD ’24, August 25–29, 2024, Barcelona, Spain
end-of-list. The idea has roots in demand modeling and revenue
management for modeling the value of outside options or non-
choice/non-purchase behavior [ 8,11,17,29]. To our knowledge,
the modelling of non-choice has not been previously employed in
the ranking context for models of partial orders.
The problem of modeling partial orders is related to the problem
of selecting a subset of a choice universe, as is studied in marketing,
operations research, information retrieval and data mining. Such
works focus on predicting or generating subsets of size k>1of a
universe set of malternatives, but not on ordering these subsets
to yield rankings [ 6,7,23,31]. A notable subset selection model is
that of Regenwetter et al. [ 31]. In that work, their “subset model” is
identical to our independent composite model, but the work is (1)
interested in modeling the total ordering, not modeling the subsets
themselves, and (2) does not consider any dependence between size
and preferences as we do in this work.
Finally, we apply model stratification in this work, a common
technique in machine learning for understanding heterogeneity
between different demographic and other characteristic groups in
the population [ 14,18,19]. Several preference modeling works
use model stratification to develop tailored models for various
demographic groups of interest [ 12,20]. Here, we apply regularized
stratification [ 35] as a modeling tool for encoding dependence (in
the composite case) or enriching the expressivity of a ranking
model (in the augmented case), even within the same populations.
Most recently, Awadelkarim et al. utilized a similar rank-based
stratification technique to model heterogeneity in school choice
preferences within the rankings of single individuals [ 5]. We adopt
and expand upon their idea in the present work.
3 Preliminaries
Rankings, or ordered preferences, are seemingly intuitive objects
that we engage with everyday. We routinely express ordered pref-
erences over where we want to eat, who we want to lead an or-
ganization, or which movie we would like to watch with friends.
In Section 3.1, we define the notions of total and partial orders,
and their related outcome spaces. We define statistical models, or
distributions over these spaces, in Section 3.2.
3.1 Rankings
Given a collection of malternatives,A={a1, ...,am}, letL(A)
denote1the set of complete rankings, or total orders, of the elements
ofA, which contains|L(A)| =m!elements. As an illustration, for
a collectionA={a,b,c}ofm=3items, we have
L({a,b,c})=a≻b≻c b≻a≻c c≻a≻b
a≻c≻b b≻c≻a c≻b≻a
.
Here the element R=a≻b≻cis the event that ais preferred to b
andbis preferred to c.
Borrowing nomenclature of Xia [ 36] and Zhao and Xia [ 37],
we focus in this work on top-kpartial orders, Q=q1≻q2≻
...≻qk[≻others] . In this case, an agent orders their top kmost-
preferred elements of Aand leaves the rest unordered. We denote
1There is a bijection between the elements of L(A) and the symmetric group, Sm.
However, we need not invoke the group properties and operations of Sm, and as such,
refer to the space in this work as L(A).byΩk(A)the set of all top- kpartial orders ofA, andΩ(A)to be
the union of these sets, for any k. The size of Ω(A)is
|Ω(A)| =mÕ
i=1|Ωi(A)| =mÕ
i=1m!
(m−i)!.
A total ordering is a special case of a top- kpartial ordering where
k=m, so we haveL(A) =Ωm(A)⊆ Ω(A). For the collection
A={a,b,c}as above, we then have the space of top-2 partial
orders and the (full) space of partial orders,
Ω2({a,b,c})=a≻b b≻a c≻a
a≻c b≻c c≻b
,
Ω({a,b,c})= 
a b c
a≻b b≻a c≻a
a≻c b≻c c≻b
a≻b≻c b≻a≻c c≻a≻b
a≻c≻b b≻c≻a c≻b≻a 
.
Note that the top-2 partial order a≻band the total order a≻b≻c
represent the same overall preference profile over the items A=
{a,b,c}, and as such would be equal-probability events under a
ranking model. These two preferences would also figure identically
in many uses of ranked preferences, e.g., ranked choice voting.
But the models in this work assign these two elements different
probabilities on purpose, and we emphasize that this is not a bug, but
a feature. The event of reporting a list of length two is different than
that of listing all three and the distinction is not informationless.
Given a k-length partial order Q∈Ωk(A), we define by Ext(Q)
the set of completions ofQinL(A) . Specifically, let Rkbe shorthand
for the first kelements of R∈L(A) :Rk=r1≻r2≻...≻rk. We
have
Ext(Q)={R∈L(A)| Rk=Q}. (1)
ForA={a,b,c}andQ=a, the completions of this partial order
are given by
Ext(a)=a≻b≻c a≻c≻b	
.
Finally, for any Q∈Ω(A), letkQbe shorthand for the length of
the partial order, kQ=|Q|.
3.2 Statistical models
A statistical model defines a probability distribution over a sample
spaceS. Specifically, let πθbe that distribution, parameterized by θ,
such that πθ:S7→[ 0,1]. The distribution πθmaps events inSto
probabilities and therefore must sum to 1,Í
s∈Sπθ(s)=1. Given a
distribution over a sample space πθand a subset of its sample space
C⊆S , we slightly overload notation and denote the probability of
Cunder πθas the sum of its constituent probabilities:
πθ(C)BÕ
c∈Cπθ(c). (2)
This expression holds mathematically as the events in Care disjoint,
so the probability of their union is the sum of their individual
probabilities.
In this work, we are concerned with the task of modeling dis-
tributions over the space of top- kpartial orders,S=Ω(A). One
modeling approach would be to assign a distinct probability to
every element in Ω(A), learning|Ω(A)| =Ím
i=1m!/(m−i)!model
 
41KDD ’24, August 25–29, 2024, Barcelona, Spain Amel Awadelkarim and Johan Ugander
Qk R
(a) IndependentQk RX
(b) Conditionally
independentQRk
(c) Length-dependent
Figure 1: Three dependence structures for composite models.
k∈[m]is a random variable representing length, R∈L(A)
is a random variable representing a total order, X∈Rdare
covariates, and Q∈Ω(A)is a top- kpartial order. Observed
quantities are shaded in grey.
parameters, but this strategy quickly becomes intractable as m
grows.
Another strategy commonly employed for learning models from
partial order data is to treat these events as marginal in the space
of total orders. That is, given a distribution over linear orders,
πθ:L(A)7→[ 0,1], consider a distribution over partial orders
π′
θ:Ω(A)7→[0 ,1]that is defined as
π′
θ(Q)Bπθ(Ext( Q))=Õ
R∈Ext(Q)πθ(R). (3)
This perspective alone does not allow a researcher to sample par-
tial orders from the space, since the list length itself is taken as
exogenous and left unmodeled. In the following two sections, we
present our two classes of models for efficiently parameterizing
distributions over Ω(A).
4 Composite models
Recall our illustrative expression of the composite model from the
introduction. Now we formally define the two component models,
one of length and one of preferences. To signify these different
model types, we use a superscript of kto indicate a length distribu-
tion and a superscript of Rto indicate a ranking distribution,
πk
θ:[m]7→[0 ,1], πR
θ:L(A)7→[0 ,1].
Through the composite lens, a partial order arises from the real-
ization of these two component variables—a length and an order—
where the order is then truncated to the sampled length to generate
a partial order Q∈Ω(A).
We now consider both independent orconditionally indepen-
dent variations of the composite model, given agent covariates,
graphically modeled in Fig. 1(a)-(b). Namely, given a realization of
covariates X, independence assumes that the distribution is decom-
posable in one of the following ways, with or without agent and
item covariates:
C-I: πθ(Q)=πk
θ(|Q|)·πR
θ(Ext( Q)), (4)
C-CI: πθ(Q|x)=πk
θ(kQ|x)·πR
θ(Ext( Q)|x). (5)
where by Eq. (2), we have πR
θ(Ext( Q))=Í
R∈Ext(Q)πR
θ(R). We refer
to Eq. (4)and Eq. (5)as the independent (C-I) and conditionally-
independent (C-CI) composite models . In a recent preferencemodeling work where sampling partial orders was required, Laverde
[20] effectively used an independent composite model, which serves
as one of two baselines in this work for the task of modeling top- k
partial orders.
Beyond independence, we also consider length-dependence, as
depicted in Fig. 1(c), where the ranking is dependent on the length.
That composite distribution is modelled as:
C-LD: πθ(Q)=πk
θ(kQ)·πR
θ(Ext( Q)|kQ). (6)
This assumption posits that how many elements an agent chooses to
rank provides additional signal as to what they may choose to rank.
In the school choice setting, this modeling decision allows families
who rank one school program to have a different utility structure
over the available alternatives than a household that ranks, say, five
alternatives. Eq. (6)is the length-dependent (C-LD) composite
model.
It is logical to ask at this point: what about a composite model
where the length kis dependent on the ranking R? While mathe-
matically coherent, conditioning a simple length distribution on
a total order is rather unwieldy. When there are many items, it
requires spelling out a total order Rbefore finding that the length
distribution, conditional on R, may actually be concentrated on
very short lengths. Rather than condition the length on a total
order, our augmented ranking approach in this next section can
be thought of as a nuanced approach to this type of dependence,
through a choice-based perspective on ranking. As an intuition for
the augmented ranking model to come in Section 5, it effectively
conditions the probability of different length outcomes upon the
sequential “choices” made in the assembly of a ranking, up to a
given truncation length.
4.1 Model specification
4.1.1 Ranking model. We enlist the classic Plackett–Luce (PL)
model [ 26,30] as the ranking model, πR
θ, of the composite class.
Under PL, we model the probability of a ranking as the product of
sequential choice probabilities from shrinking choice sets. Partial
orders are modeled as marginal events in L(A) as given by Eq. (3).
Specifically, the probability of a partial order Q=q1≻...≻qkis
πR
θ(Q)=πR
θ(Ext( Q)) (7)
=kÖ
j=1exp( θqj)
Í
a∈A\{ q1, . . .,qj−1}exp( θa). (8)
The parameters θ∈Rmare directly interpretable as latent item
utilities. However, given features xij∈Rdof agent iand item
j, we can further model the utilities as linear in these attributes,
parameterizing item j’s utility to agent iasδj+βTxij,where θ=
(δ,β)∈Rm×Rdare the model parameters. The probability of
agent iproducing partial order Qis then
πR
θ(Q;Xi)=kÖ
j=1exp( δj+βTxij)
Í
a∈A\{ q1, . . .,qj−1}exp( δa+βTxia).
When covariates are available, we enlist the linear model version
of Plackett–Luce. If not covariates are available, we use the simpler
model with only fixed effects δj.
 
42Statistical Models of Top- kPartial Orders KDD ’24, August 25–29, 2024, Barcelona, Spain
We choose to model the length-dependence of C-LD by strat-
ifying the preference model by list length. In this case, we use
stratification to train separate preference models for people who
ranked exactly one item, people who ranked exactly two items, and
so on, all the way up to those who ranked exactly K−1items. The
final strata we reserve for those who ranked Kor more items.
Taking the number of strata to be K, a stratified ranking model
is then the composition of Ksub-models, each with its own pa-
rameters: θ={θ1, ...,θK}∈Rm×K. Specifically, the likelihood of a
partial order Qis modeled as
πR
θ(Q|kQ)=πR
θk′(Q).
where k′=min(kQ,K)andkQis the length of Q; orders of length
k∈[1,K]are modeled by Eq. (8)with parameters θk, and rankings
of length k>Kare modeled with parameters θK.
A possible concern with this approach is that we end up with
considerably less data for each model, compared to estimating a
single common model. The thinning of the training data can lead
to over-parameterization which leads to overfitting. To address
these concerns, we encourage models of neighboring lengths to be
close to one another via Laplacian regularization [ 35], borrowing
the predictive power of neighboring models. The regularization
is “Laplacian” because the Ksub-models are regularized towards
each other as dictated by an accompanying regularization graph
with weights governed by the graph’s Laplacian. Length-based
stratification lends itself well to a common path graph—the model
of top-1 partial orders should be similar to a model of top-2, and so
on—so this regularization takes on a simple form. See Section 6 for
presentation of the stratified objective function.
4.1.2 Length model. The model of length within a composite model
is a distribution over S=[m]. For full generality, we first choose
to model the length as a categorical variable over these mdiscrete
categories for two of the three composite models. Namely, given
parameters θ∈Rm, we have
πk
θ(k)=pk=exp( θk)Ím
i=1exp( θi).
For the conditionally-independent composite model (C-CI), we
model length as a Poisson random variable. That is, given agent
covariates x, we define the rate parameter as λ(x)=exp( θTx), and
the resulting length distribution is given by
πk
θ(k;x)=λ(x)ke−λ(x)
k!.
The domain of the Poisson model is not bounded between [1,m],
so we clip extreme values into this range. Parameters of this model
are then θ∈Rdwhere dis the dimension of covariates x.
5 The augmented model
Consider a set of alternatives, A, augmented with an end-of-list
alternative ENDas an additional alternative in the choice universe. A
similar idea has been utilized in the revenue management literature
for modeling no-purchase options [ 8,11,17,29]. In this model, a
partial order Q∈Ω(A)is taken to arise from the following pro-
cess: letA+be the universe of alternatives plus an ENDalternative
representing end-of-list, A+=A∪{ END}. A partial ranking Qof
length k=|Q|is viewed as the sequential selection of each itemqifrom a sequence of shrinking choice sets Ci⊆A+, followed by
the selection of ENDat position k+1.
LetExt+(Q)represent all linear extensions of QinL(A+)that
begin with Q≻END. Namely,
Ext+(Q)={R:R∈L(A+),Rk+1=Q≻END}.
For example, given A={a,b,c}andQ=a, we have
Ext(a)=a≻b≻c a≻c≻b	
Ext+(a)=a≻END≻b≻c a≻END≻c≻b	
.
Under an augmented ranking model, the probability of observing
partial order Qis given by
A:πθ(Q)=πR
θ(Ext+(Q)). (9)
Here πR
θrepresents a probability distribution over L(A+), since
elements Rhere order the augmented universe that includes the
ENDalternative.
Taking the Plackett–Luce model as our baseline ranking model,
we evaluate three approaches to parameterizing this new choice
system. Specifically, we consider various ways to parameterize the
ENDalternative relative the rest in A, yielding the (1) naïve, (2)
position-dependent, and (3) K-stratified augmented models. The
(naïve) augmented model (A) assigns the ENDalternative a fixed
utility, resulting in a standard Plackett–Luce over (m+1)alterna-
tives with parameters θ∈Rm+1:
πR
θ(Q)=πR
θ(Ext+(Q))
=kÖ
j=1exp( θqj)
Í
a∈A+\{q1, . . .,qj−1}exp( θa)·exp( θEND)Í
a∈A+\Qexp( θa).
Similar to the independent composite model, our naive augmented
model has been implemented for the purpose of modeling end-of-
list in at least one preference modeling application [ 29] and we
consider it as the second of two baselines for our modeling task.
Theposition-dependent augmented model (A-PD) endows
theENDalternative with position-dependent utilities. Specifically,
theENDtoken has mutilities, γ∈Rm, depending on how far the
choice process has gotten without terminating. The mordinary
alternatives have a single position-invariant utility each, θ∈Rm.
πR
θ(Q)=kÖ
j=1exp( θqj)
exp( γj)+Í
a∈A\{ q1, . . .,qj−1}exp( θa)·
exp( γk+1)
exp( γk+1)+Í
a∈A\Qexp( θa).
Finally, the K-stratified augmented model (A-S) allows all
alternatives position-dependent utilities, up to position K,
πR
θ(Q)=kÖ
j=1exp( θ(j′)
qj)
Í
a∈A+\{q1, . . .,qj−1}exp( θ(j′)
a)·
exp( θ(k′+1)
END)
Í
a∈A+\Qexp( θ(k′+1)
a),
where i′=min(i,K). This stratification is adopted from [ 5] and is
in contrast with the length-dependent stratification of C-LD, de-
tailed in Section 4.1. There, the model assigns each user to one of
KPL models, depending on how long their list was. Here, each
 
43KDD ’24, August 25–29, 2024, Barcelona, Spain Amel Awadelkarim and Johan Ugander
Table 1: Summary of models; mdenotes the number of choice alternatives and kQdenotes the length of partial order Q∈Ω(A).
Model Distribution, πθ(Q) Description
Composite, Independent (C-I) πk
θ(kQ)·πR
θ(Ext( Q)) Categorical length and PL ranking.
Composite, Conditionally-independent (C-CI) πk
θ(kQ|x)·πR
θ(Ext( Q)|x)Poisson length and PL ranking, both conditional on covariates.
Composite, Length-dependent (C-LD) πk
θ(kQ)·πR
θ(Ext( Q)|kQ)Categorical length and length-stratified PL ranking.
Augmented (A) πR
θ(Ext+(Q)) PL over m+1alternatives: θ∈Rm+1.
Augmented, Position-dependent (A-PD) πR
θ(Ext+(Q)) PL over m+1alternatives, but ENDgetsmutilities: θ∈R2m.
Augmented, Stratified (A-S) πR
θ(Ext+(Q)) Rank-stratified PL over m+1alternatives: θ∈RK(m+1).
sequential choice up to position Kis governed by a unique PL
model over the elements of A+. The resulting model has parame-
ters θ=(θ(1), ...,θ(K))∈R(m+1)× K. Similarly to the length-based
stratification, we also apply Laplacian regularization between the K
adjacent models. Rank-based stratification also lends itself well to a
common path graph as regularization graph—in this case saying the
model of top-choices should be similar to a model second choices,
and so on. Of course, these two stratifications (by length and by
rank) are not mutually exclusive and could be applied within the
same ranking model using a two-dimensional grid as the regular-
ization graph. We leave the investigation of how such multiple
stratifications interact as future work. See Table 1 for a summary
of our six proposed methods for modeling top- kpartial orders.
6 Model selection
Here we present our procedure for selecting model parameters
and hyperparameters. We estimate all model parameters using ℓ2-
regularized maximum likelihood estimation. Given a dataset of
partial orders from nparticipants, D={Q1, ...,Qn}where Qi∈
Ω(A), and an optional matrix of covariates on the agents and items,
X∈Rn×m×d, model parameters θare chosen to maximize the
likelihood of the observed dataset by minimizing the regularized
negative log-likelihood (NLL),
F(D;θ)=ℓ(D;θ)+r(θ), (10)
where ℓ(D;θ)is the NLL loss and r(θ)is the ℓ2penalty on parame-
ters:
ℓ(D;θ)=−1
|D|Õ
Q∈Dlog(πθ(Q)),r(θ)=λ||θ||2
2.
The regularization strength λis a hyperparameter of the model.
Our proceedure for selecting λand other optimization details are
provided in Section 7.1.
Theℓ2regularization also makes our model identifiable ; a statis-
tical model is identifiable if no two distinct sets of parameters, θ
and θ′, produce the same probability distributions over the sample
space. The traditional PL family of ranking distributions are non-
identifiable due to their shift-invariance: πPL
θ(s)=πPL
θ+c®1(s)for all
s∈Sandc∈R. In this case, strategies for achieving identifiability
are to fix one of the parameters, constrain their sum, or to apply
regularization and obtain the minimum-norm parameter estimates
[36], as we have chosen to do in this work.
For stratified models, notably the length-dependent compos-
ite model (C-LD) and the stratified augmented model (A-S), we
learn KPL models, overAandA+respectively, with parametersθ=(θ1, ...,θK), regularized toward each other via Laplacian reg-
ularization. These models are trained on Kstratified bands of the
dataset, D={D1, ...,DK}, but the two models stratify the data
differently. For C-LD, Dicontains all partial orders of length ifor
alli<K, and DKcontains lists of length at least K. Specifically,
Di={QQ∈D,|Q|=i},∀i<K, and DK={QQ∈D,|Q|≥K}.
For the A-S model class, for all i<K,Dicontains all choices made at
position iacross all partial orders Q∈D, and DKcontains choices
made in positions Konward across all partial orders.
Laplacian regularization in both cases is defined as:
rL(θ)=λLKÕ
i=2||θi−θi−1||2
2,
where rLis convex in θandλLis a chosen Laplacian regularization
strength. Compared to the non-stratified objective in Eq. (10), the
regularized, stratified objective function is the sum of Kdecoupled
model losses (each with a local ℓ2regularization) and the Laplacian
regularization term:
F(D;θ)=KÕ
k=1[ℓ(Dk;θk)+r(θk)]+rL(θ). (11)
Both the C-LD and A-S model introduce two additional hyperpa-
rameters, the number of strata and the Laplacian regularization
gain,(K,λL). Selection of these hyperparameters is discussed in
Section 7.1.
7 Experiments
In this section we present an evaluation of six models—three com-
posite models (C-I, C-CI, C-LD) and three augmented models (A,
A-PD, A-S)—using seven partial order datasets, summarized in Ta-
ble 2. Our main motivation for modelling partial ranking data is to
provide a principled way to simulate partial order data for the pur-
poses of counterfactual policy simulation or demand modeling. In
these instances, researchers tend to learn models of total orders like
the Plackett-–Luce, simulate sequences of choices, and then make
some (unexplored) assumption about the truncation of the data to
achieve a dataset of partial orders [ 2,20]. The method implemented
in [20] is actually equivalent to our independent-composite model,
and another work recently implemented what we consider as a
(naive) augmented model [ 29] for the same task. Of our combined
six variants of the composite and augmented classes of models,
these two basic models act as our working “baselines” for modeling
tractable distributions over Ω(A).
We structure our experiments to answer two key questions:
 
44Statistical Models of Top- kPartial Orders KDD ’24, August 25–29, 2024, Barcelona, Spain
Table 2: Dataset summary statistics for ranked-choice voting
(RCV) and school choice (SC) data. 2018 and 2019 Board of
Supervisor elections correspond to San Francisco Districts
8 and 5, respectively. Here nis the number of orders in the
dataset, mis the number of available alternatives, and ¯kis
the average order length.
Name Label n m ¯k
2018 Board of Supervisors RCV1 33,394 3 2.04
2019 District Attorney RCV2 193,492 4 2.32
2019 Board of Supervisors RCV3 23,698 4 2.06
2019 Mayor RCV4 178,924 7 2.58
2018 Mayor RCV5 253,866 8 2.52
2017-18 Kindergarten SC1 3,503 152 9.28
2018-19 Kindergarten SC2 3,544 152 9.97
(1)How likely is observed data, in its heterogeneously truncated
form, under each of the models?
(2)How well do synthetic datasets, sampled from models with
parameters estimated via maximum likelihood, simulate real
demand patterns?
In Section 7.2, we report on overall goodness-of-fit on held out data
as measured by negative log loss, addressing (1). To address (2), in
Section 7.3 we sample datasets from the models and present demand
statistics as compared with ground truth preferences in the observed
data, namely in terms of length and alternative-specific demand
distributions. Finally, in Section 7.4, we demonstrate a downstream
application of our models in the school choice realm, simulating
SFUSD policy assignments using preference data generated by our
models and comparing assignment outcomes under the synthetic
data with assignment outcomes under the true data.
7.1 Setup
Our data comes from two sources: we use four publicly-available
San Francisco ranked-choice voting (RCV) datasets from the on-
line library of preference data, preflib [27], and two (non-public)
school choice (SC) datasets from the San Francisco Unified School
District (SFUSD). Both types of datasets contain strict (ie. no ties)
partial orders that we treat as top- korders. The school choice data
features covariates on households and programs, which we incor-
porate through linear utility models. These datasets contain PII and
as such are not publicly available. See Table 2 for dataset summary
statistics.
Models that enlist regularized stratification, namely the length-
dependent composite (C-LD) and stratified augmented (A-S) models,
introduce two additional hyperparameters, the number of stratifica-
tion buckets Kand the regularization strength λL. We conducted a
grid search across suitable values of each of these parameters for
each model class (composite vs. augmented), on a representative
dataset of each type (RCV vs. SC). Each (K,λL)pair was trained
and evaluated using 5-fold cross validation on these datasets, and
the values yielding the lowest average validation loss were selected.
For the school choice datasets, we choose (K,λL)=(15,1e−3)
for the length-dependent composite model, and (K,λL)=(15,0)
for the stratified augmented model. For the ranked-choice voting
datasets, we choose (K,λL)=(10,0)for both models.
Figure 2: NLL loss (lower is better) of our test datasets under
the six models in Table 1. C-I (lightest blue) and A (yellow)
are the baselines.
For model optimization, we run Adam [ 15], implemented in
PyTorch, with default parameters, lr=0.001, β=(0.9,0.999),
ϵ=1e−8, adding ℓ2regularization with weight λ=1e−5. Model
parameters are updated over batches of training data until reaching
max_epoch =2000 or convergence, i.e., when the absolute differ-
ence in losses is less than ϵ=1e−4. Within each dataset, we
conducted 5-fold cross-validation, training on four-fifths and evalu-
ating on the held-out fifth. Evaluation metrics are averaged across
each of these held-out portions and presented in this section. A
repository containing the ranked choice voting datasets, code for
our models, and a notebook for recreating the RCV results in this
section can be found at https://github.com/ameloa/partial-orders.
7.2 Goodness of fit
We present the negative log likelihood (NLL) loss on the test set of
our seven datasets under the six models in Figure 2. Recall that the
naive augmented (A) and independent composite (C-I) models serve
as our baseline models for modeling distributions over Ω(A). We
see some main themes emerge from these plots. Of the augmented
models, assigning only a single fixed-effect to the ENDtoken, as
does the naïve augmented model (A), results in the worst NLL
losses on observed data. The conditionally-independent composite
model (C-CI), only evaluated on the school choice datasets, yields
the second worst losses; the Poisson distributional assumption on
length in this model is not representative of our datasets, and thus
results in poor NLL losses on observed data. Obviously, researchers
should avoid making distributional assumptions that do not hold.
Of the remaining four models, the stratified augmented model (A-S)
demonstrates the lowest NLL loss on the RCV datasets, and all four
show similar NLL results on the school choice datasets.
 
45KDD ’24, August 25–29, 2024, Barcelona, Spain Amel Awadelkarim and Johan Ugander
7.3 Synthetic datasets
A main objectives of this work is to advance the available statistical
models for sampling partial orders, key to generating synthetic
datasets for forecasting demand or simulating counterfactual policy
outcomes. Algorithms 1 and 2 provide pseudocode of the sampling
procedure used for the composite and augmented model classes,
respectively.
Algorithm 1 Sampling partial orders from the composite model
Input: Learned parameters θof a composite model.
Output: Q∈Ω(A)from composite model, πθ.
1:Sample length, l∼πk
θ.
2:Initialize Q=∅andA=A.
3:fori=1toldo
4: Sample an alternative afrom Aaccording to πR
θ
5: Q←Q≻a
6: A←A\{a}
7:end for
8:return Q
Algorithm 2 Sampling partial orders from the augmented model
Input: Learned parameters θof the augmented model.
Output: Q∈Ω(A)from augmented model, πθ.
1:Initialize Q=∅andA=A+.
2:loop
3: Sample an alternative afrom Aaccording to πR
θ
4: ifaisENDthen return Q
5: else
6: Q←Q≻a
7: A←A\{a}.
8: end if
9:end loop
We sample N=100synthetic datasets, ˜D(i)={Q(i)
1, ...,Q(i)
n}for
i∈[N], from each of the six models, for each of the seven datasets in
Table 2. We use the same covariates X∈Rn×m×dfor sampling as in
training, so the synthetic datasets are seen as simulated preferences
of those nhouseholds.
Each dataset ˜D(i)produces an empirical length distribution over
nexamples, and we summarize averaged statistics in Figure 3, tak-
ing one RCV and one SC dataset as representative examples. We see
that the biggest swings in either direction — longer or shorter lists
— come from the augmented class. The naive augmented model
(yellow) samples orders that are shorter than the rest, with higher
standard deviations on RCV dataset. The single ENDtoken of this
model learns a high utility to explain shorter-than-full-length lists
seen in the observed data. The stratified augmented model, where
all alternatives get position-dependent utilities, produces full-length
lists in the RCV case. In the school choice case it produces longer,
and more dispersed lists. The latter observation suggests that if the
sampled list happens to get longer than the modal length of 1, the
utility of other alternatives remains higher than ENDtoken and the
list length continues to grow. Surprisingly, the position-dependent
mean median mode std0.00.51.01.52.02.53.02018 Mayor
mean median mode std05101520252018-19 Kindergarten
true
C-I
C-CI
C-LD
A
A-PD
A-SFigure 3: Sampled length distributions statistics on a repre-
sentative RCV (left) and SC (right) dataset. Statistics of their
true distributions in grey. C-CI was not evaluated on the
RCV datasets as no voter covariates were available with the
data.
AMY
FARAHWEISSANGELAALIOTOELLENLEE
ZHOUJANEKIM
LONDONBREEDMARKLENOMICHELLEBRAVORICHIE
GREENBERG0.00.10.20.3Proportion2018 Mayor - T op-1 Candidate Demand
AMY
FARAHWEISSANGELAALIOTOELLENLEE
ZHOUJANEKIM
LONDONBREEDMARKLENOMICHELLEBRAVORICHIE
GREENBERG0.000.050.100.150.200.25Proportion2018 Mayor - Overall Candidate Demand
CB GE SB SE SN X0.00.20.40.60.8Proportion2018-19 Kindergarten - T op-1 Program Demand
CB CE GE JE SE X0.00.20.40.60.8Proportion2018-19 Kindergarten - Overall Program Demand
true
C-I
C-CI
C-LD
A
A-PD
A-S
Figure 4: Synthetic demand over 2018 SF Mayoral candidates
(top row) and 2018-19 SFUSD program types (bottom row).
True demand in grey. Left plots show proportion of choices
in first position, right plots show proportion of choices over-
all.
augmented model, where ENDtoken gets position-dependent util-
ities but the other alternatives utility is fixed down the ranking,
matches true lengths distributions as well as or better than when
lengths are explicitly modeled as done by the composite class. Over-
all, the augmented class produces more varied length distributions
than the composite class, but still has potential to fit lengths well.
The composite class, which models list length explicitly, fits the
true length distribution reliably well.
In Figure 4 we showcase the overall and top-choice demand of
each candidate in the chosen RCV dataset in the top row, and of the
most popular program types in the SFUSD school choice dataset
in the bottom row. In the latter plots, rather than presenting every
available program, the x-axis buckets school programs by program
type — General Education, Chinese Biliteracy, etc. In the left plots
of Figure 4, we see that the stratified augmented model (red) fits
top choice alternatives best in both the RCV and SC datasets. It
is the only model to learn position-1 alternative utilities that are
independent of those down rank. The models are showcasing similar
 
46Statistical Models of Top- kPartial Orders KDD ’24, August 25–29, 2024, Barcelona, Spain
T op-1 T op-3 From List0.00.20.40.60.81.0Proportion1819 SFUSD Choice Outcomes
true
C-I
C-CI
C-LD
A
A-PD
A-S
Figure 5: Assignment outcomes using synthetic school
choice datasets sampled from our 6 models compared with
true outcomes in grey. Proportion of students who were as-
signed to their top-1, a top-3, or any one of their listed alter-
natives (as opposed to non-assignment).
performance to one another and matching the overall distribution
of demand well in the right plots.
7.4 School assignment outcomes from
simulated preferences
Our final analysis aims to demonstrate downstream simulation
ability of our proposed methods. We generated N=100synthetic
school choice datasets and simulated real assignment outcomes us-
ing SFUSD’s 2023 assignment policy. In Figure 5, we summarize as-
signment outcomes of our six models compared with simulated out-
comes using true preference lists. Overall, we find that the stratified
models, C-LD and A-S, mimic true outcomes best as they are more
expressive preference models than their non-stratified counter-
parts. The independent composite (C-I) and position-dependent aug-
mented (A-PD) models seem to result in datasets where fewer stu-
dents gain access to their top choices than in assignments based on
the real preferences. These simpler models learn universal weights
over certain agent-item attributes, and may lead to “monoculture”
effects [ 16] and greater competition for program offerings than
their stratified counterparts. If C-I and A are our baselines, we see
there is great potential in using some of the ideas developed in this
work, esp. the more expressive stratified models.
8 Conclusions
In this work, we study the statistical modeling of partial orders not
as marginal events in the space of total orders, but as deliberate
individual events. We developed two approaches to modeling top- k
partial orders with three implementations each. The sample space
of these models are the space of partial orders directly, Ω(A), and
they provide researchers with the ability to sample meaningfulsynthetic datasets of this type. Under the augmented class of mod-
els, whereby end-of-list is modeled as another alternative in the
universe, the new alternative should have position dependent fixed-
effects, not simply one latent utility. The composite class, which
models list length directly, generally produces synthetic datasets
that exhibit the most accurate length distributions. Model strati-
fication, applied in both the length-dependent composite model
(C-LD) and the K-stratified augmented model (A-S), is an important
aspect of preference modeling, improving the accuracy of simulated
demand and mimicking true school choice outcomes best in our
downstream application experiments.
There are some known limitations with the models and analyses
presented in this work. Plackett-Luce ranking models learn ranking
distributions over a fixed choice universe, A. As such, the methods
presented here are not capable of simulating counterfactuals that
add or change the properties of the alternatives in the item set. They
are, however, fully applicable to counterfactual evaluations that
study when, e.g., the distribution of household covariates changes.
Approaches to relaxing these two requirements on the alternative
set would increase the range of applications of our models and is
an area of future work. Additionally, further analysis is needed
to characterize the ranking distributions that are expressible by
one or both of our two methods, understand how canonical the
representations of each type are, and furnish theoretical guarantees
around identifiability and convergence.
Acknowledgments
We thank Irene Lo and Itai Ashlagi for being our liaisons to the
San Francisco Unified School District’s preference data and Arjun
Seshadri for his ongoing modeling support and advice. This work
was supported by NSF CAREER Award #2143176.
References
[1]SFUSD annual enrollment highlights. https://www.sfusd.edu/schools/enroll/
student-assignment-policy/annual-enrollment-highlights, Feb 2024.
[2]Atila Abdulkadiroğlu, Parag A. Pathak, Jonathan Schellenberg, and Christopher R.
Walters. Do parents value school effectiveness? American Economic Review,
110(5):1502–39, May 2020.
[3]Nikhil Agarwal and Paulo Somaini. Demand analysis using strategic reports: An
application to a school choice mechanism. Econometrica, 86(2):391–444, 2018.
[4]Felipe Arteaga, Adam J Kapor, Christopher A Neilson, and Seth D Zimmerman.
Smart matching platforms and heterogeneous beliefs in centralized school choice.
Working Paper 28946, National Bureau of Economic Research, June 2021.
[5]Amel Awadelkarim, Arjun Seshadri, Itai Ashlagi, Irene Lo, and Johan Ugander.
Rank-heterogeneous preference models for school choice. In Proceedings of the
29th ACM SIGKDD Conference on Knowledge Discovery and Data Mining, KDD ’23,
page 47–56, New York, NY, USA, 2023. Association for Computing Machinery.
[6]Austin R. Benson, Ravi Kumar, and Andrew Tomkins. A discrete choice model
for subset selection. In Proceedings of the Eleventh ACM International Conference
on Web Search and Data Mining, WSDM ’18, page 37–45, New York, NY, USA,
2018. Association for Computing Machinery.
[7]Austin R. Benson, Ravi Kumar, and Andrew Tomkins. Sequences of sets. In
Proceedings of the 24th ACM SIGKDD International Conference on Knowledge
Discovery & Data Mining, KDD ’18, page 1148–1157, New York, NY, USA, 2018.
Association for Computing Machinery.
[8]Eugene Choo and Aloysius Siow. Who marries whom and why. Journal of
Political Economy, 114(1):175–201, 2006.
[9]Douglas E. Critchlow, Michael A. Fligner, and Joseph S. Verducci. Probability
models on rankings. Journal of Mathematical Psychology, 35(3):294–318, 1991.
[10] Winship C. Fuller, Charles F. Manski, and David A. Wise. New evidence on
the economic determinants of postsecondary schooling choices. The Journal of
Human Resources, 17(4):477–498, 1982.
[11] Guillermo Gallego, Richard Ratliff, and Sergey Shebalov. A general attraction
model and sales-based linear program for network revenue management under
customer choice. Operations Research, 63(1):212–232, 2015.
 
47KDD ’24, August 25–29, 2024, Barcelona, Spain Amel Awadelkarim and Johan Ugander
[12] Justine S. Hastings and Jeffrey M. Weinstein. Information, School Choice, and
Academic Achievement: Evidence from Two Experiments*. The Quarterly Journal
of Economics, 123(4):1373–1414, 11 2008.
[13] Matt Kasman and Jon Valant. The opportunities and risks of k-12 student place-
ment algorithms, 2019.
[14] Walter N. Kernan, Catherine M. Viscoli, Robert W. Makuch, Lawrence M. Brass,
and Ralph I. Horwitz. Stratified randomization for clinical trials. Journal of
Clinical Epidemiology, 52(1):19–26, 1999.
[15] Diederik P. Kingma and Jimmy Ba. Adam: A method for stochastic optimization,
2014.
[16] Jon Kleinberg and Manish Raghavan. Algorithmic monoculture and social welfare.
Proceedings of the National Academy of Sciences, 118(22):e2018340118, 2021.
[17] Meir G Kohn, Charles F Manski, and David S Mundel. An empirical investigation
of factors which influence college-going behavior. report no. r-1470-nsf. 1974.
[18] Douglas J. Lanska. Epidemiology and Biostatistics: An Introduction to Clinical
Research. JAMA, 303(18):1869–1869, 05 2010.
[19] VanderWeele Tyler J. Haneuse Sebastien Lash, Timothy L. and Kenneth J. Roth-
man. Modern Epidemiology. Lippincott Williams and Wilkins, 3 edition, 1986.
[20] Mariana Laverde. Distance to schools and equal access in school choice systems.
Working Papers 2022-002, Human Capital and Economic Opportunity Working
Group, January 2022.
[21] Min Kyung Lee and Su Baykal. Algorithmic mediation in group decisions: Fairness
perceptions of algorithmically mediated vs. discussion-based social division. In
Proceedings of the 2017 ACM Conference on Computer Supported Cooperative Work
and Social Computing, CSCW ’17, page 1035–1048, New York, NY, USA, 2017.
Association for Computing Machinery.
[22] Min Kyung Lee, Ji Tae Kim, and Leah Lizarondo. A human-centered approach to
algorithmic services: Considerations for fair and motivating smart community
service management that allocates donations to non-profit organizations. In
Proceedings of the 2017 CHI Conference on Human Factors in Computing Systems,
CHI ’17, page 3365–3376, New York, NY, USA, 2017. Association for Computing
Machinery.
[23] Benjamin Letham, Cynthia Rudin, and Katherine Heller. Growing a list. Data
Mining and Knowledge Discovery, 27, 11 2013.
[24] Xinran Li, Dingdong Yi, and Jun S. Liu. Bayesian Analysis of Rank Data with
Covariates and Heterogeneous Rankers. Statistical Science, 37(1):1 – 23, 2022.[25] R. Duncan Luce. Individual Choice Behavior: A Theoretical analysis. Wiley, New
York, NY, USA, 1959.
[26] R. Duncan Luce. The choice axiom after twenty years. Journal of Mathematical
Psychology, 15(3):215–233, 1977.
[27] Nicholas Mattei and Toby Walsh. Preflib: A library for preferences
http://www.preflib.org. In Patrice Perny, Marc Pirlot, and Alexis Tsoukiàs, editors,
Algorithmic Decision Theory, pages 259–270, Berlin, Heidelberg, 2013. Springer
Berlin Heidelberg.
[28] Daniel McFadden. The measurement of urban travel demand. Journal of Public
Economics, 3(4):303–328, 1974.
[29] Shanjukta Nath. Preference Estimation in Deferred Acceptance with Partial
School Rankings. Papers 2010.15960, arXiv.org, October 2020.
[30] R. L. Plackett. Random permutations. Journal of the Royal Statistical Society:
Series B (Methodological), 30(3):517–534, 1968.
[31] Michel Regenwetter and Bernard Grofman. Choosing subsets: a size-independent
probabilistic model and the quest for a social welfare ordering. Social Choice and
Welfare, 15:423–443, 1998.
[32] Samantha Robertson, Tonya Nguyen, and Niloufar Salehi. Modeling assumptions
clash with the real world: Transparency, equity, and community challenges
for student assignment algorithms. In Proceedings of the 2021 CHI Conference
on Human Factors in Computing Systems, CHI ’21, New York, NY, USA, 2021.
Association for Computing Machinery.
[33] Kenneth E. Train. Discrete Choice Methods with Simulation. Cambridge University
Press, 2 edition, 2009.
[34] Kenneth E. Train, Daniel L. McFadden, and Moshe Ben-Akiva. The demand for
local telephone service: A fully discrete model of residential calling patterns and
service choices. The RAND Journal of Economics, 18(1):109–123, 1987.
[35] Jonathan Tuck, Shane Barratt, and Stephen Boyd. A distributed method for fitting
laplacian regularized stratified models. J. Mach. Learn. Res., 22(1), Jan 2021.
[36] Lirong Xia. Learning and decision-making from rank data. Synthesis Lectures on
Artificial Intelligence and Machine Learning, 13:1–159, 02 2019.
[37] Zhibing Zhao and Lirong Xia. Learning mixtures of plackett-luce models from
structured partial orders. In H. Wallach, H. Larochelle, A. Beygelzimer, F. d 'Alché-
Buc, E. Fox, and R. Garnett, editors, Advances in Neural Information Processing
Systems, volume 32. Curran Associates, Inc., 2019.
 
48